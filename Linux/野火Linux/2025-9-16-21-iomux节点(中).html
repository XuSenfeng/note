<!DOCTYPE html>

<html lang="zh-CN"  class="">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="">
    
    
    <meta name="description" content="">
    
    <meta name="generator" content="teedoc">
    <meta name="theme" content="teedoc-plugin-theme-default">
    
        
        <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        
        <script>
MathJax = {"loader": {"load": ["output/svg"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}, "svg": {"fontCache": "global"}};
</script>
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
        <meta name="html-generator" content="teedoc-plugin-jupyter-notebook-parser">
        
        <script src="/note/static/js/theme_default/pre_main.js"></script>
        
        <link rel="stylesheet" href="/note/static/css/theme_default/prism.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/note/static/css/theme_default/viewer.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/note/static/css/theme_default/dark.css" type="text/css"/>
        
        <link rel="stylesheet" href="/note/static/css/theme_default/light.css" type="text/css"/>
        
        <script src="/note/static/js/theme_default/jquery.min.js"></script>
        
        <script src="/note/static/js/theme_default/split.js"></script>
        
        <link rel="stylesheet" href="/note/static/css/search/style.css" type="text/css"/>
        
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4d52982572d5512e9762879ebf063c86";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        
        <meta name="blog-generator" content="teedoc-plugin-blog">
        
        <link rel="stylesheet" href="/note/static/css/gitalk/gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/note/static/css/gitalk/custom_gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/note/static/css/custom.css" type="text/css"/>
        
    
    
    <title>XvSenfeng's Note</title>
    
    <script type="text/javascript">js_vars = {"teedoc-plugin-ad-hint": {"type": "hint", "label": "☆", "content": "这是一个支持国际化的消息示例</br>喜欢项目请<a target=\"_blank\" href=\"https://github.com/teedoc/teedoc\">点下 ☆ star </a>哦~🦀🦀", "show_times": 2, "show_after_s": 432000, "date": "2021-11-16 14:40", "color": "#a0421d", "link_color": "#e53935", "link_bg_color": "#e6ae5c", "bg_color": "#ffcf89", "color_hover": "white", "bg_color_hover": "#f57c00", "close_color": "#eab971"}}</script>
    <script type="text/javascript">metadata = {"tags": [], "date": null, "update": [], "ts": 0, "author": "", "brief": "", "cover": ""}</script>
</head>


<body class="type_doc">
    
    <div id="navbar">
        <div id="navbar_menu">
            <a class="site_title" href="/note/">
                
                    <img class="site_logo" src="/note/static/image/logo.png" alt="XvSenfeng logo">
                
                
                    <h2>XvSenfeng</h2>
                
        </a>
            <a id="navbar_menu_btn"></a>
        </div>
        <div id="navbar_items">
            <div>
                <ul id="nav_left">
<li class=""><a  href="/note/blog/">博客</a></li>
<li class="active"><a  href="/note/Linux/">Linux</a></li>
<li class=""><a  href="/note/代码分析/">代码分析</a></li>
<li class=""><a  href="/note/使用软件/">使用软件</a></li>
<li class=""><a  href="/note/嵌入式/">嵌入式</a></li>
<li class=""><a  href="/note/手机安卓/">手机安卓</a></li>
<li class=""><a  href="/note/机器学习/">机器学习</a></li>
<li class=""><a  href="/note/编程基础/">编程基础</a></li>
<li class=""><a  href="/note/网络/">网络</a></li>
</ul>

            </div>
            <div>
                <ul id="nav_right">
<li class=""><a target="_blank" href="https://github.com/XuSenfeng/note/">github</a></li>
</ul>

                <ul class="nav_plugins"><li><a id="google_translate_element"><img class="icon" src="/note/static/image/google_translate/translate.svg"/>Translate</a></li></ul><ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">搜索</span>
                            <div id="search_hints">
                                <span id="search_input_hint">输入关键词，多关键词空格隔开</span>
                                <span id="search_loading_hint">正在加载，请稍候。。。</span>
                                <span id="search_download_err_hint">下载文件失败，请刷新重试或检查网络</span>
                                <span id="search_other_docs_result_hint">来自其它文档的结果</span>
                                <span id="search_curr_doc_result_hint">当前文档搜索结果</span>
                            </div></a></li></ul>
            </div>
        </div>
    </div>
    
    <div id="wrapper">
        <div id="sidebar_wrapper">
            <div id="sidebar">
                <div id="sidebar_title">
                    
                </div>
                <ul class="show">
<li class="not_active with_link"><a href="/note/Linux/index.html"><span class="label">README</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Linux命令行与shell脚本编程大全</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-1-初认识Linux_shell.html"><span class="label">2022-8-1-初认识Linux_shell</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-1-基本bashshell命令.html"><span class="label">2022-8-1-基本bashshell命令</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-1-走进shell.html"><span class="label">2022-8-1-走进shell</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-10-sed进阶.html"><span class="label">2022-8-10-sed进阶</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-11-gawk进阶.html"><span class="label">2022-8-11-gawk进阶</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-11-使用其他shell.html"><span class="label">2022-8-11-使用其他shell</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-11-实例.html"><span class="label">2022-8-11-实例</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-12-邮件相关.html"><span class="label">2022-8-12-邮件相关</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-2-更多命令.html"><span class="label">2022-8-2-更多命令</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-2-理解shell.html"><span class="label">2022-8-2-理解shell</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-3-使用Linux环境变量.html"><span class="label">2022-8-3-使用Linux环境变量</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-3-理解Linux的文件权限.html"><span class="label">2022-8-3-理解Linux的文件权限</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-4-安装软件程序.html"><span class="label">2022-8-4-安装软件程序</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-4-管理文件系统.html"><span class="label">2022-8-4-管理文件系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-5-使用编辑器.html"><span class="label">2022-8-5-使用编辑器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-5-构建基本脚本.html"><span class="label">2022-8-5-构建基本脚本</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-6-使用结构初始化.html"><span class="label">2022-8-6-使用结构初始化</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-6-处理用户输入.html"><span class="label">2022-8-6-处理用户输入</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-6-更多结构化命令.html"><span class="label">2022-8-6-更多结构化命令</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-7-呈现数据.html"><span class="label">2022-8-7-呈现数据</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-7-控制脚本.html"><span class="label">2022-8-7-控制脚本</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-8-创建函数.html"><span class="label">2022-8-8-创建函数</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-9-图形化桌面环境中的脚本编程.html"><span class="label">2022-8-9-图形化桌面环境中的脚本编程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-9-正则表达式.html"><span class="label">2022-8-9-正则表达式</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux命令行与shell脚本编程大全/2022-8-9-认识sed和gawk.html"><span class="label">2022-8-9-认识sed和gawk</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Linux就该这么学</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/Linux就该这么学/2022-8-23-.html"><span class="label">2022-8-23-</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">鸟哥的linux私房菜</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/Linux就该这么学/鸟哥的linux私房菜/2022-9-10-计算机概论.html"><span class="label">2022-9-10-计算机概论</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux就该这么学/鸟哥的linux私房菜/2022-9-20-主机规划与磁盘分区.html"><span class="label">2022-9-20-主机规划与磁盘分区</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux就该这么学/鸟哥的linux私房菜/2022-9-20-安装CentOS.html"><span class="label">2022-9-20-安装CentOS</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux就该这么学/鸟哥的linux私房菜/2022-9-20-首次登录.html"><span class="label">2022-9-20-首次登录</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux就该这么学/鸟哥的linux私房菜/2022-9-25-文件权限以及目录.html"><span class="label">2022-9-25-文件权限以及目录</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Linux源码趣读</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/Linux源码趣读/2024-1-26-01最开始的代码.html"><span class="label">2024-1-26-01最开始的代码</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Linux系统编程</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/Linux系统编程/2024-2-14-01文件IO.html"><span class="label">2024-2-14-01文件IO</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux系统编程/2024-3-19-02文件系统.html"><span class="label">2024-3-19-02文件系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux系统编程/2024-3-21-03程序和进程.html"><span class="label">2024-3-21-03程序和进程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux系统编程/2024-3-23-04进程间通信.html"><span class="label">2024-3-23-04进程间通信</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux系统编程/2024-3-25-05信号.html"><span class="label">2024-3-25-05信号</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux系统编程/2024-3-28-06守护进程、线程.html"><span class="label">2024-3-28-06守护进程、线程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux系统编程/2024-3-31-07线程同步.html"><span class="label">2024-3-31-07线程同步</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Linux网络编程</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-10-04线程池.html"><span class="label">2024-4-10-04线程池</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-13-05本地套接字.html"><span class="label">2024-4-13-05本地套接字</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-14-06libevent库.html"><span class="label">2024-4-14-06libevent库</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-16-07简单的Web服务器.html"><span class="label">2024-4-16-07简单的Web服务器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-16-08html入门.html"><span class="label">2024-4-16-08html入门</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-17-09CSS.html"><span class="label">2024-4-17-09CSS</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-17-09HTTP协议.html"><span class="label">2024-4-17-09HTTP协议</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-2-01网络基础.html"><span class="label">2024-4-2-01网络基础</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-20-10telnet调试.html"><span class="label">2024-4-20-10telnet调试</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-20-11服务器.html"><span class="label">2024-4-20-11服务器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-3-02Socket编程.html"><span class="label">2024-4-3-02Socket编程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/Linux网络编程/2024-4-6-03高并发服务器.html"><span class="label">2024-4-6-03高并发服务器</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">原子Linux</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-10-Linux常用命令.html"><span class="label">2022-8-10-Linux常用命令</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-11-压缩解压缩.html"><span class="label">2022-8-11-压缩解压缩</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-11-文件系统结构.html"><span class="label">2022-8-11-文件系统结构</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-11-磁盘管理.html"><span class="label">2022-8-11-磁盘管理</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-12-LinuxC.html"><span class="label">2022-8-12-LinuxC</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-12-Makefile书.html"><span class="label">2022-8-12-Makefile书</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-12-make和Makefile.html"><span class="label">2022-8-12-make和Makefile</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-12-开发环境搭建.html"><span class="label">2022-8-12-开发环境搭建</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-12-用户和用户组.html"><span class="label">2022-8-12-用户和用户组</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-12-链接文件.html"><span class="label">2022-8-12-链接文件</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-13-IMX启动方式.html"><span class="label">2022-8-13-IMX启动方式</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-13-vscode.html"><span class="label">2022-8-13-vscode</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-13-开发板简介.html"><span class="label">2022-8-13-开发板简介</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-13-汇编LED驱动.html"><span class="label">2022-8-13-汇编LED驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-14-C语言点灯.html"><span class="label">2022-8-14-C语言点灯</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-14-按键检测.html"><span class="label">2022-8-14-按键检测</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-14-模仿stm32编程.html"><span class="label">2022-8-14-模仿stm32编程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-15-中断.html"><span class="label">2022-8-15-中断</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-15-主频时钟配置.html"><span class="label">2022-8-15-主频时钟配置</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-16-EPIT定时器.html"><span class="label">2022-8-16-EPIT定时器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-16-GPT时钟.html"><span class="label">2022-8-16-GPT时钟</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-17-DDR3.html"><span class="label">2022-8-17-DDR3</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-17-RGBLED.html"><span class="label">2022-8-17-RGBLED</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-17-串口.html"><span class="label">2022-8-17-串口</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-18-I2C.html"><span class="label">2022-8-18-I2C</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-18-RTC.html"><span class="label">2022-8-18-RTC</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-19-PWM.html"><span class="label">2022-8-19-PWM</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-19-SPI.html"><span class="label">2022-8-19-SPI</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-19-多点电容触摸屏.html"><span class="label">2022-8-19-多点电容触摸屏</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-20-uBoot.html"><span class="label">2022-8-20-uBoot</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-20-系统烧写.html"><span class="label">2022-8-20-系统烧写</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-22-源码目录分析.html"><span class="label">2022-8-22-源码目录分析</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-22-顶层Makefile.html"><span class="label">2022-8-22-顶层Makefile</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-23-Linux内核.html"><span class="label">2022-8-23-Linux内核</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-23-uboot图形化配置界面.html"><span class="label">2022-8-23-uboot图形化配置界面</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-23-启动流程.html"><span class="label">2022-8-23-启动流程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-23-移植.html"><span class="label">2022-8-23-移植</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-24-驱动开发.html"><span class="label">2022-8-24-驱动开发</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-26-linux点灯.html"><span class="label">2022-8-26-linux点灯</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-27-设备树.html"><span class="label">2022-8-27-设备树</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-28-led设备树.html"><span class="label">2022-8-28-led设备树</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-29-Linux的并发与竞争.html"><span class="label">2022-8-29-Linux的并发与竞争</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-29-pinclt和gpio.html"><span class="label">2022-8-29-pinclt和gpio</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-30-Linux中断.html"><span class="label">2022-8-30-Linux中断</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-30-Linux内核定时器.html"><span class="label">2022-8-30-Linux内核定时器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-31-异步通知.html"><span class="label">2022-8-31-异步通知</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-8-31-阻塞非阻塞.html"><span class="label">2022-8-31-阻塞非阻塞</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-1-platform设备驱动.html"><span class="label">2022-9-1-platform设备驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-10-WIFI.html"><span class="label">2022-9-10-WIFI</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-10-网络驱动.html"><span class="label">2022-9-10-网络驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-11-4G.html"><span class="label">2022-9-11-4G</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-11-IIO.html"><span class="label">2022-9-11-IIO</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-11-PWM.html"><span class="label">2022-9-11-PWM</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-11-RGBtoHDMI.html"><span class="label">2022-9-11-RGBtoHDMI</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-11-Regmap.html"><span class="label">2022-9-11-Regmap</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-2-INPUT子系统.html"><span class="label">2022-9-2-INPUT子系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-2-LCD屏幕.html"><span class="label">2022-9-2-LCD屏幕</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-2-Linux自带的led.html"><span class="label">2022-9-2-Linux自带的led</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-2-MISC.html"><span class="label">2022-9-2-MISC</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-3-I2C.html"><span class="label">2022-9-3-I2C</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-3-RTC.html"><span class="label">2022-9-3-RTC</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-3-SPI.html"><span class="label">2022-9-3-SPI</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-4-串口.html"><span class="label">2022-9-4-串口</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-5-触摸屏.html"><span class="label">2022-9-5-触摸屏</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-5-音频驱动.html"><span class="label">2022-9-5-音频驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-6-CAN协议.html"><span class="label">2022-9-6-CAN协议</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-7-USB.html"><span class="label">2022-9-7-USB</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/原子Linux/2022-9-7-块设备驱动.html"><span class="label">2022-9-7-块设备驱动</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">操作系统原理</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-17-1操作系统.html"><span class="label">2023-6-17-1操作系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-17-2操作系统目标和作用.html"><span class="label">2023-6-17-2操作系统目标和作用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-17-3操作系统特征.html"><span class="label">2023-6-17-3操作系统特征</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-17-4操作系统的发展.html"><span class="label">2023-6-17-4操作系统的发展</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-17-5运行机制.html"><span class="label">2023-6-17-5运行机制</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-18-6中断异常.html"><span class="label">2023-6-18-6中断异常</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-18-7系统调用.html"><span class="label">2023-6-18-7系统调用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-19-8体系结构.html"><span class="label">2023-6-19-8体系结构</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-20-10虚拟机.html"><span class="label">2023-6-20-10虚拟机</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-20-11进程.html"><span class="label">2023-6-20-11进程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-20-9操作系统的引导.html"><span class="label">2023-6-20-9操作系统的引导</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-22-12线程.html"><span class="label">2023-6-22-12线程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-23-13调度.html"><span class="label">2023-6-23-13调度</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-27-14进程同步进程互斥.html"><span class="label">2023-6-27-14进程同步进程互斥</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-28-15锁.html"><span class="label">2023-6-28-15锁</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/操作系统原理/2023-6-28-16信号量机制.html"><span class="label">2023-6-28-16信号量机制</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">服务器</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/服务器/2023-6-12-代理.html"><span class="label">2023-6-12-代理</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/服务器/2023-6-12-新服务器搭建.html"><span class="label">2023-6-12-新服务器搭建</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">李述铜手写操作系统</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-10-26-05中断和异常处理.html"><span class="label">2023-10-26-05中断和异常处理</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-11-10-06日志与printf输出.html"><span class="label">2023-11-10-06日志与printf输出</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-9-23-03引导程序接管控制权.html"><span class="label">2023-9-23-03引导程序接管控制权</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-9-28-04加载器loader的实现.html"><span class="label">2023-9-28-04加载器loader的实现</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-9-6-01补充知识2.html"><span class="label">2023-9-6-01补充知识2</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-9-6-0补充知识.html"><span class="label">2023-9-6-0补充知识</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-9-6-1操作系统准备.html"><span class="label">2023-9-6-1操作系统准备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2023-9-7-2x86保护模式下的编程.html"><span class="label">2023-9-7-2x86保护模式下的编程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-17-07进程切换.html"><span class="label">2024-2-17-07进程切换</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-17-08链表.html"><span class="label">2024-2-17-08链表</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-17添加任务管理器.html"><span class="label">2024-2-17添加任务管理器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-18-内存管理.html"><span class="label">2024-2-18-内存管理</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-24-系统调用.html"><span class="label">2024-2-24-系统调用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-26-移植Newlib库.html"><span class="label">2024-2-26-移植Newlib库</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-27-屏幕显示信息.html"><span class="label">2024-2-27-屏幕显示信息</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-2-29-键盘初始化.html"><span class="label">2024-2-29-键盘初始化</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-3-1-设备管理.html"><span class="label">2024-3-1-设备管理</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-3-3-Shell.html"><span class="label">2024-3-3-Shell</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-3-4-文件系统.html"><span class="label">2024-3-4-文件系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-3-5-磁盘.html"><span class="label">2024-3-5-磁盘</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/李述铜手写操作系统/2024-3-7-Fat16.html"><span class="label">2024-3-7-Fat16</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">树莓派</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/树莓派/2024-2-1-01开始使用.html"><span class="label">2024-2-1-01开始使用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/树莓派/2024-2-1-02-使用命令了解树莓派.html"><span class="label">2024-2-1-02-使用命令了解树莓派</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/树莓派/2024-2-1-03-安装mysql.html"><span class="label">2024-2-1-03-安装mysql</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/树莓派/2024-2-3-04网络连接.html"><span class="label">2024-2-3-04网络连接</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/树莓派/2024-2-8-时钟设置.html"><span class="label">2024-2-8-时钟设置</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">泰山派</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-12-20-05-lvgl程序.html"><span class="label">2025-12-20-05-lvgl程序</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-12-24-06-二维码识别.html"><span class="label">2025-12-24-06-二维码识别</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-12-24-07-yolo部署.html"><span class="label">2025-12-24-07-yolo部署</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-12-25-08-OpenCV.html"><span class="label">2025-12-25-08-OpenCV</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-12-26-09-拍照.html"><span class="label">2025-12-26-09-拍照</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-12-26-10-Qt.html"><span class="label">2025-12-26-10-Qt</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-5-11-01环境搭建.html"><span class="label">2025-5-11-01环境搭建</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-5-11-02设备树.html"><span class="label">2025-5-11-02设备树</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-5-14-03屏幕驱动.html"><span class="label">2025-5-14-03屏幕驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2025-5-17-04触摸驱动.html"><span class="label">2025-5-17-04触摸驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2026-1-27-ROS.html"><span class="label">2026-1-27-ROS</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/泰山派/2026-1-30-Ubuntu22.html"><span class="label">2026-1-30-Ubuntu22</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">瑞芯微Linux</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/瑞芯微Linux/2025-12-10-Cpp提供C接口.html"><span class="label">2025-12-10-Cpp提供C接口</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/瑞芯微Linux/2025-12-5-01-EchoAI编译代码.html"><span class="label">2025-12-5-01-EchoAI编译代码</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/瑞芯微Linux/2025-12-5-02-EchoAI代码.html"><span class="label">2025-12-5-02-EchoAI代码</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/瑞芯微Linux/2025-12-7-03-添加板子.html"><span class="label">2025-12-7-03-添加板子</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/瑞芯微Linux/2025-12-8-04-内核.html"><span class="label">2025-12-8-04-内核</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/瑞芯微Linux/2025-12-9-05-模型.html"><span class="label">2025-12-9-05-模型</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/瑞芯微Linux/配置网络.html"><span class="label">配置网络</span><span class=""></span></a></li>
</ul>
</li>
<li class="active_parent no_link"><a><span class="label">野火Linux</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-11-55-buildroot.html"><span class="label">2025-10-11-55-buildroot</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-11-56-裸机汇编开发.html"><span class="label">2025-10-11-56-裸机汇编开发</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-12-57-Uboot编译脚本.html"><span class="label">2025-10-12-57-Uboot编译脚本</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-2-47-镜像构建.html"><span class="label">2025-10-2-47-镜像构建</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-2-48-systemd.html"><span class="label">2025-10-2-48-systemd</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-2-49-deb包.html"><span class="label">2025-10-2-49-deb包</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-2-50-修改img文件.html"><span class="label">2025-10-2-50-修改img文件</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-2-51-备份量产.html"><span class="label">2025-10-2-51-备份量产</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-2-52-Uboot启动.html"><span class="label">2025-10-2-52-Uboot启动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-28-58-Uboot移植.html"><span class="label">2025-10-28-58-Uboot移植</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-30-59-Uboot图形配置界面语法.html"><span class="label">2025-10-30-59-Uboot图形配置界面语法</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-30-60-Linux编译脚本.html"><span class="label">2025-10-30-60-Linux编译脚本</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-31-61-Linux启动流程.html"><span class="label">2025-10-31-61-Linux启动流程</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-9-53-Uboot启动(二).html"><span class="label">2025-10-9-53-Uboot启动(二)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-10-9-54-Uboot启动(三).html"><span class="label">2025-10-9-54-Uboot启动(三)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-1-62-linux移植.html"><span class="label">2025-11-1-62-linux移植</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-1-63-Busybox.html"><span class="label">2025-11-1-63-Busybox</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-10-65-定时器.html"><span class="label">2025-11-10-65-定时器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-12-66-信号.html"><span class="label">2025-11-12-66-信号</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-14-67-MISC设备.html"><span class="label">2025-11-14-67-MISC设备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-15-68-RTC.html"><span class="label">2025-11-15-68-RTC</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-16-69-串口.html"><span class="label">2025-11-16-69-串口</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-18-70-中断线程化.html"><span class="label">2025-11-18-70-中断线程化</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-18-71-音频.html"><span class="label">2025-11-18-71-音频</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-19-72-CAN.html"><span class="label">2025-11-19-72-CAN</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-19-73-USB.html"><span class="label">2025-11-19-73-USB</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-2-64-mfgtool.html"><span class="label">2025-11-2-64-mfgtool</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-20-74-块设备.html"><span class="label">2025-11-20-74-块设备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-21-75-网络设备.html"><span class="label">2025-11-21-75-网络设备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-22-76-Wifi.html"><span class="label">2025-11-22-76-Wifi</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-22-77-PWM.html"><span class="label">2025-11-22-77-PWM</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-22-78-Regmap通用寄存器.html"><span class="label">2025-11-22-78-Regmap通用寄存器</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-22-79-IIO驱动框架.html"><span class="label">2025-11-22-79-IIO驱动框架</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-11-25-80-ADC驱动.html"><span class="label">2025-11-25-80-ADC驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-12-6-81-音频驱动.html"><span class="label">2025-12-6-81-音频驱动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-12-8-82-DRM显示设备.html"><span class="label">2025-12-8-82-DRM显示设备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-6-11-01-入门.html"><span class="label">2025-6-11-01-入门</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-6-22-02-开发板下载启动.html"><span class="label">2025-6-22-02-开发板下载启动</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-12-04-镜像文件.html"><span class="label">2025-7-12-04-镜像文件</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-13-06-GPIO.html"><span class="label">2025-7-13-06-GPIO</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-13-07-中断.html"><span class="label">2025-7-13-07-中断</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-14-05-ARMv7汇编.html"><span class="label">2025-7-14-05-ARMv7汇编</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-14-08-时钟控制模块.html"><span class="label">2025-7-14-08-时钟控制模块</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-14-09-串口.html"><span class="label">2025-7-14-09-串口</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-15-10-内核模块.html"><span class="label">2025-7-15-10-内核模块</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-15-11-字符设备.html"><span class="label">2025-7-15-11-字符设备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-15-12-驱动设备模型.html"><span class="label">2025-7-15-12-驱动设备模型</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-19-13-Kset.html"><span class="label">2025-7-19-13-Kset</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-19-14-uevent消息.html"><span class="label">2025-7-19-14-uevent消息</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-19-15-class设备管理.html"><span class="label">2025-7-19-15-class设备管理</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-19-16-17-总结.html"><span class="label">2025-7-19-16-17-总结</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-19-16-xbus和platform.html"><span class="label">2025-7-19-16-xbus和platform</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-2-03-控制设备.html"><span class="label">2025-7-2-03-控制设备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-20-18-DTS设备树.html"><span class="label">2025-7-20-18-DTS设备树</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-7-20-19-DeviceTreeOverlay.html"><span class="label">2025-7-20-19-DeviceTreeOverlay</span><span class=""></span></a></li>
<li class="active with_link"><a href="/note/Linux/野火Linux/2025-9-16-21-iomux节点(中).html"><span class="label">2025-9-16-21-iomux节点(中)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-16-22-iomux节点(下).html"><span class="label">2025-9-16-22-iomux节点(下)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-17-23-iomux节点(应用).html"><span class="label">2025-9-17-23-iomux节点(应用)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-17-24-GPIO子系统.html"><span class="label">2025-9-17-24-GPIO子系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-17-25-并发硬件同步原语.html"><span class="label">2025-9-17-25-并发硬件同步原语</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-18-26-IIC驱动框架.html"><span class="label">2025-9-18-26-IIC驱动框架</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-20-27-IIC驱动框架使用.html"><span class="label">2025-9-20-27-IIC驱动框架使用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-25-28-阻塞和非阻塞IO.html"><span class="label">2025-9-25-28-阻塞和非阻塞IO</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-25-29-POLL机制.html"><span class="label">2025-9-25-29-POLL机制</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-25-30-Completion.html"><span class="label">2025-9-25-30-Completion</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-25-31-kthread_worker.html"><span class="label">2025-9-25-31-kthread_worker</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-26-32-SPI.html"><span class="label">2025-9-26-32-SPI</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-26-33-SPI使用.html"><span class="label">2025-9-26-33-SPI使用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-27-34-中断.html"><span class="label">2025-9-27-34-中断</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-27-35-软中断和tasklet.html"><span class="label">2025-9-27-35-软中断和tasklet</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-27-36-工作队列.html"><span class="label">2025-9-27-36-工作队列</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-27-37-Input子系统.html"><span class="label">2025-9-27-37-Input子系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-28-38-电容触摸屏.html"><span class="label">2025-9-28-38-电容触摸屏</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-28-39-PWM.html"><span class="label">2025-9-28-39-PWM</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-28-40-LCD-FB设备.html"><span class="label">2025-9-28-40-LCD-FB设备</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-29-41-Linux系统构成.html"><span class="label">2025-9-29-41-Linux系统构成</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-29-42-Uboot基础使用.html"><span class="label">2025-9-29-42-Uboot基础使用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-29-43-Linux.html"><span class="label">2025-9-29-43-Linux</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-29-44-添加驱动(设备树).html"><span class="label">2025-9-29-44-添加驱动(设备树)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-30-45-图标.html"><span class="label">2025-9-30-45-图标</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-30-46-根文件系统.html"><span class="label">2025-9-30-46-根文件系统</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/2025-9-4-20-iomux节点(上).html"><span class="label">2025-9-4-20-iomux节点(上)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/野火Linux/Untitled.html"><span class="label">Untitled</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">问题处理</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/问题处理/2022-11-20-Linux图形界面.html"><span class="label">2022-11-20-Linux图形界面</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2022-8-24-tftp下载.html"><span class="label">2022-8-24-tftp下载</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2022-8-26-uboot设置.html"><span class="label">2022-8-26-uboot设置</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2022-8-27-根文件系统被删除.html"><span class="label">2022-8-27-根文件系统被删除</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2022-8-5-没有release文件.html"><span class="label">2022-8-5-没有release文件</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2022-9-7-备份根文件.html"><span class="label">2022-9-7-备份根文件</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2022-9-9-ubuntu移植问题处理.html"><span class="label">2022-9-9-ubuntu移植问题处理</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2023-11-11-树莓派.html"><span class="label">2023-11-11-树莓派</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2023-6-14-打不开gpedit-msc.html"><span class="label">2023-6-14-打不开gpedit-msc</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2023-6-28-vscode配置.html"><span class="label">2023-6-28-vscode配置</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/note/Linux/问题处理/2023-8-27-开发板网络设置.html"><span class="label">2023-8-27-开发板网络设置</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">韦东山Linux</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/note/Linux/韦东山Linux/2025-3-4-基础.html"><span class="label">2025-3-4-基础</span><span class=""></span></a></li>
</ul>
</li>
</ul>

            </div>
        </div>
        <div id="article">
            <div id="menu_wrapper">
                <div id="menu">
                </div>
            </div>
            <div id="content_wrapper">
                <div id="content_body">
                    <div id="article_head">
                        <div id="article_title">
                            
                            <h1></h1>
                            
                        </div>
                        <div id="article_tags">
                            <ul>
                            
                            </ul>
                        </div>
                        <div id="article_info">
                        <div id="article_info_left">
                            <span class="article_author">
                                
                            </span>
                            
                                <span class="article_date" title="最后修改日期： 2025-12-14">
                                    2025-12-14
                                </span>
                            
                        </div>
                        <div id="article_info_right">
                            
                            <div id="source_link">
                                <a href="https://github.com/XuSenfeng/note/tree/master/doc/Linux/野火Linux/2025-9-16-21-iomux节点(中).md" target="_blank">
                                    编辑本页
                                </a>
                            </div>
                            
                        </div>
                        </div>
                    </div>
                    <div id="article_tools">
                        <span></span>
                        <span id="toc_btn"></span>
                    </div>
                    <div id="update_history">
                        
                    </div>
                    <div id="article_content">
                        
                            <h2 id="pin-function%E5%92%8Cpin-group%EF%BC%9Aiomuxc%E8%8A%82%E7%82%B9%E8%A7%A3%E6%9E%90%E5%A7%8B%E6%9C%AB">pin function和pin group：iomuxc节点解析始末</h2>
<h4 id="imx_pinctrl_probe_dt%28%29%E5%87%BD%E6%95%B0">imx_pinctrl_probe_dt()函数</h4>
<p>drivers/pinctrl/freescale/pinctrl-imx.c</p>
<p>pinctrl_dev下面有三个基数树, 分别记录所有的引脚信息, function的信息以及group的信息</p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509161050929.png" alt="image-20250916105054851" /></p>

<pre class="language-c"><code class="language-c">static int imx_pinctrl_probe_dt(struct platform_device *pdev,
    			struct imx_pinctrl *ipctl)
{
    //iomux节点
    struct device_node *np = pdev-&gt;dev.of_node; // 使用platform结构体进行获取实际的设备树描述
    struct device_node *child;
    struct pinctrl_dev *pctl = ipctl-&gt;pctl;
    // 遍历两层, 检查一下是不是有fsl,pins属性, 直接的下一层True, 下下层False
    flat_funcs = imx_pinctrl_dt_is_flat_functions(np);
    if (flat_funcs) {
    	nfuncs = 1; // 没有function层, 但是设置这个变量为1, 至少使用一个function来进行管理所有的节点
    } else {
    	nfuncs = of_get_child_count(np);
    	if (nfuncs == 0) {
    		dev_err(&amp;pdev-&gt;dev, &quot;no functions defined\n&quot;);
    		return -EINVAL;
    	}
    }
    
    for (i = 0; i &lt; nfuncs; i++) {
    	struct function_desc *function;
    	// 申请一个function_desc
    	function = devm_kzalloc(&amp;pdev-&gt;dev, sizeof(*function),
    				GFP_KERNEL);
    	if (!function)
    		return -ENOMEM;

    	mutex_lock(&amp;ipctl-&gt;mutex);
        // 加入基数树里面
    	radix_tree_insert(&amp;pctl-&gt;pin_function_tree, i, function);
    	mutex_unlock(&amp;ipctl-&gt;mutex);
    }
    
    pctl-&gt;num_functions = nfuncs; // 1
    ipctl-&gt;group_index = 0; // 初始化一下上一个节点里面的这个变量
    
    if (flat_funcs) {
        // 记录一下所有的group的数量
    	pctl-&gt;num_groups = of_get_child_count(np);
    } else {
    	pctl-&gt;num_groups = 0;
    	for_each_child_of_node(np, child)
    		pctl-&gt;num_groups += of_get_child_count(child);
    }
    
    if (flat_funcs) {
    	imx_pinctrl_parse_functions(np, ipctl, 0);
    } else {
    	i = 0;
    	for_each_child_of_node(np, child)
    		imx_pinctrl_parse_functions(child, ipctl, i++);
    }
</code></pre>
<h4 id="imx_pinctrl_dt_is_flat_functions%28%29%E5%87%BD%E6%95%B0">imx_pinctrl_dt_is_flat_functions()函数</h4>
<p>drivers/pinctrl/freescale/pinctrl-imx.c</p>
<p>遍历两层, 检查一下是不是有fsl,pins属性, 判断是在哪一层</p>

<pre class="language-c"><code class="language-c">static bool imx_pinctrl_dt_is_flat_functions(struct device_node *np)
{
    struct device_node *function_np;
    struct device_node *pinctrl_np;
    // 遍历所有的子节点
    for_each_child_of_node(np, function_np) {
    	// 查看一下是不是有这个属性
    	if (of_property_read_bool(function_np, &quot;fsl,pins&quot;))
    		return true;
    		
    	for_each_child_of_node(function_np, pinctrl_np) {
    		if (of_property_read_bool(pinctrl_np, &quot;fsl,pins&quot;))
    			return false;
    	}
    }

    return true;
}
</code></pre>
<h4 id="imx_pinctrl_parse_functions%28%29%E5%87%BD%E6%95%B0">imx_pinctrl_parse_functions()函数</h4>
<p>drivers/pinctrl/freescale/pinctrl-imx.c</p>
<p>iomuxc节点的device_node结构体指针, ipctl, 0</p>
<p>初始化一下func的基数树, 之后创建一下group_desc这个基数树</p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509161101566.png" alt="image-20250916110157447" /></p>

<pre class="language-c"><code class="language-c">static int imx_pinctrl_parse_functions(struct device_node *np,
    			       struct imx_pinctrl *ipctl,
    			       u32 index)
{
    struct pinctrl_dev *pctl = ipctl-&gt;pctl;
    struct device_node *child;
    struct function_desc *func;
    struct group_desc *grp;
    u32 i = 0;
    // 获取之前挂载在基数树的func结构体
    func = pinmux_generic_get_function(pctl, index);
    ...
    func-&gt;name = np-&gt;name; // 设置为设备树节点的名字
    func-&gt;num_group_names = of_get_child_count(np); // 记录一下子节点(group)的数量
    ...
    // 根据group的数量分配名字指针
    func-&gt;group_names = devm_kcalloc(ipctl-&gt;dev, func-&gt;num_group_names,
    				 sizeof(char *), GFP_KERNEL);
    if (!func-&gt;group_names)
    	return -ENOMEM;
    // 遍历节点
    for_each_child_of_node(np, child) {
    	func-&gt;group_names[i] = child-&gt;name;
    	// 请求一个group_desc结构体, 用于记录每一个group里面的信息
    	grp = devm_kzalloc(ipctl-&gt;dev, sizeof(struct group_desc),
    			   GFP_KERNEL);
    	if (!grp)
    		return -ENOMEM;

    	mutex_lock(&amp;ipctl-&gt;mutex);
        // 会在这里imx_pinctrl++这个数据, 记录所有的group数量
    	radix_tree_insert(&amp;pctl-&gt;pin_group_tree,
    			  ipctl-&gt;group_index++, grp);
    	mutex_unlock(&amp;ipctl-&gt;mutex);

    	imx_pinctrl_parse_groups(child, grp, ipctl, i++);
    }

    return 0;
}
</code></pre>
<h4 id="pinmux_generic_get_function%28%29%E5%87%BD%E6%95%B0">pinmux_generic_get_function()函数</h4>
<p>drivers/pinctrl/pinmux.c</p>

<pre class="language-c"><code class="language-c">struct function_desc *pinmux_generic_get_function(struct pinctrl_dev *pctldev,
    					  unsigned int selector)
{
    struct function_desc *function;

    function = radix_tree_lookup(&amp;pctldev-&gt;pin_function_tree,
    			     selector);
    if (!function)
    	return NULL;

    return function;
}
</code></pre>
<h4 id="imx_pinctrl_parse_groups%28%29%E5%87%BD%E6%95%B0">imx_pinctrl_parse_groups()函数</h4>

<pre class="language-c"><code class="language-c">static int imx_pinctrl_parse_groups(struct device_node *np,
    			    struct group_desc *grp,
    			    struct imx_pinctrl *ipctl,
    			    u32 index)
{
    const struct imx_pinctrl_soc_info *info = ipctl-&gt;info;
    int size, pin_size;
    const __be32 *list, **list_p;
    u32 config;
    int i;
    // flags未初始化, 所有是0
    if (info-&gt;flags &amp; IMX8_USE_SCU)
    	pin_size = FSL_IMX8_PIN_SIZE;
    else if (info-&gt;flags &amp; SHARE_MUX_CONF_REG)
    	pin_size = FSL_PIN_SHARE_SIZE;
    else
    	pin_size = FSL_PIN_SIZE;//24一个引脚配置的长度
    
    grp-&gt;name = np-&gt;name; // 记录group的名字
    // 获取配置属性
    list = of_get_property(np, &quot;fsl,pins&quot;, &amp;size);
    ...
    // 记录设备树里面的所有节点的信息
    list_p = &amp;list;
    ...
    /*该组引脚的配置个数*/
    grp-&gt;num_pins = size / pin_size;
    // 为每一个引脚分配一个结构体
    grp-&gt;data = devm_kcalloc(ipctl-&gt;dev,
    			 grp-&gt;num_pins, sizeof(struct imx_pin),
    			 GFP_KERNEL);
    
    grp-&gt;pins = devm_kcalloc(ipctl-&gt;dev,
    			 grp-&gt;num_pins, sizeof(unsigned int),
    			 GFP_KERNEL);
    ...
    for (i = 0; i &lt; grp-&gt;num_pins; i++) {
    	struct imx_pin *pin = &amp;((struct imx_pin *)(grp-&gt;data))[i];

    	if (info-&gt;flags &amp; IMX8_USE_SCU)
    		imx_pinctrl_parse_pin_scu(ipctl, &amp;grp-&gt;pins[i],
    			pin, list_p, config);
    	else
            // 实际的调用位置, 传入刚才申请的两个数组的对应位置
    		imx_pinctrl_parse_pin_mem(ipctl, &amp;grp-&gt;pins[i],
    			pin, list_p, config);
    }

    return 0;
}
</code></pre>
<h4 id="imx_pinctrl_parse_pin_mem%28%29%E5%87%BD%E6%95%B0">imx_pinctrl_parse_pin_mem()函数</h4>
<p>drivers/pinctrl/freescale/pinctrl-memmap.c</p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509161137808.png" alt="image-20250916113744715" /></p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509161138411.png" alt="image-20250916113842266" /></p>

<pre class="language-c"><code class="language-c">int imx_pinctrl_parse_pin_mem(struct imx_pinctrl *ipctl,
    		  unsigned int *grp_pin_id, struct imx_pin *pin,
    		  const __be32 **list_p, u32 generic_config)
{
    struct imx_pin_memmap *pin_memmap = &amp;pin-&gt;pin_conf.pin_memmap;
    const struct imx_pinctrl_soc_info *info = ipctl-&gt;info;
    // 解析一条数据
    u32 mux_reg = be32_to_cpu(*((*list_p)++));
    u32 conf_reg;
    u32 config;
    unsigned int pin_id;
    struct imx_pin_reg *pin_reg;
    
    if (info-&gt;flags &amp; SHARE_MUX_CONF_REG) {
    	conf_reg = mux_reg;
    } else {
    	conf_reg = be32_to_cpu(*((*list_p)++));
    	if (!conf_reg)
    		conf_reg = -1;
    }
    // 使用复用寄存器的偏移获取引脚的编号
    pin_id = (mux_reg != -1) ? mux_reg / 4 : conf_reg / 4;
    // 获取到imx_pin_reg用于记录实际的寄存器地址
    pin_reg = &amp;ipctl-&gt;pin_regs[pin_id];
    pin-&gt;pin = pin_id; // 记录引脚的编号
    *grp_pin_id = pin_id;
    pin_reg-&gt;mux_reg = mux_reg;
    pin_reg-&gt;conf_reg = conf_reg;
    // 解析设备树数据
    pin_memmap-&gt;input_reg = be32_to_cpu(*((*list_p)++));
    pin_memmap-&gt;mux_mode = be32_to_cpu(*((*list_p)++));
    pin_memmap-&gt;input_val = be32_to_cpu((*(*list_p)++));
    ...
     // 获取硬件的配置属性
    config = be32_to_cpu(*((*list_p)++));
    ...
    if (config &amp; IMX_PAD_SION)
    	pin_memmap-&gt;mux_mode |= IOMUXC_CONFIG_SION;
    pin_memmap-&gt;config = config &amp; ~IMX_PAD_SION;
    ...
    return 0;
}
</code></pre>
<h2 id="pin-state%EF%BC%9Apinctrl-names%E7%9A%84%E7%9C%9F%E7%9B%B8">pin state：pinctrl-names的真相</h2>
<h4 id="iomuxc%E8%8A%82%E7%82%B9">iomuxc节点</h4>
<ul>
<li>存储全部所需的引脚配置信息</li>
<li>&quot;虚拟&quot;外设<ul>
<li>设置pin state数量和类型</li>
<li>设置状态对应的pin group</li>
</ul>
</li>
</ul>
<p>pin state-&gt;pin group，一对多</p>
<p>pin group-&gt;pin，一对多</p>
<h4 id="pinctl_map">pinctl_map</h4>
<p>存储外设所有state下pin group的配置信息</p>
<h4 id="%E5%87%BD%E6%95%B0%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90">函数层次分析</h4>
<p><code>pinctrl_enable()-&gt;pinctrl_claim_hogs()</code></p>
<ul>
<li><p><code>create_pinctrl</code></p>
<p>----------------------------------------------第一部分-------------------------------------</p>
<ul>
<li><p><code>pinctrl_dt_to_map()</code></p>
<ul>
<li><p><code>for (state = 0; ; state++)：</code>查找外设所有pin group的状态</p>
<ul>
<li><p><code>for (config = 0; config &lt; size; config++)：</code>查找状态的所有引脚组</p>
<p>------------------------------第二部分-------------------------------------</p>
<ul>
<li><p><code>dt_to_map_one_config</code></p>
<ul>
<li><p>创建一个<code>pinctrl_map</code>，负责初始化引脚组的所有引脚复用</p>
</li>
<li><p>创建多个<code>pinctrl_map</code>，每个pinctrl_map负责配置引脚中的一个引脚属性</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>----------------------------------------------第三部分-------------------------------------</p>
<ul>
<li><code>add_setting</code></li>
</ul>
</li>
</ul>
<h4 id="pinctrl_enable%28%29%E5%87%BD%E6%95%B0">pinctrl_enable()函数</h4>
<p>drivers/pinctrl/core.c</p>

<pre class="language-c"><code class="language-c">int pinctrl_enable(struct pinctrl_dev *pctldev)
{
    int error;

    error = pinctrl_claim_hogs(pctldev);
    ...
    //将pctldev加入全局链表
    list_add_tail(&amp;pctldev-&gt;node, &amp;pinctrldev_list);
    ...
    return 0;
}
</code></pre>
<h4 id="pinctrl_claim_hogs%28%29%E5%87%BD%E6%95%B0">pinctrl_claim_hogs()函数</h4>
<p>drivers/pinctrl/core.c</p>

<pre class="language-c"><code class="language-c">static int pinctrl_claim_hogs(struct pinctrl_dev *pctldev)
{
    
    pctldev-&gt;p = create_pinctrl(pctldev-&gt;dev, pctldev);
    
    //第四部分
    pctldev-&gt;hog_default =
    	pinctrl_lookup_state(pctldev-&gt;p, PINCTRL_STATE_DEFAULT);
    if (IS_ERR(pctldev-&gt;hog_default)) {
    	dev_dbg(pctldev-&gt;dev,
    		&quot;failed to lookup the default state\n&quot;);
    } else {
    	//设置为default状态
    	if (pinctrl_select_state(pctldev-&gt;p,
    				 pctldev-&gt;hog_default))
    		dev_err(pctldev-&gt;dev,
    			&quot;failed to select default state\n&quot;);
    }
    ...
    pctldev-&gt;hog_sleep =
    	pinctrl_lookup_state(pctldev-&gt;p,
    	
    ...
}
</code></pre>
<h4 id="create_pinctrl%28%29%E5%87%BD%E6%95%B0">create_pinctrl()函数</h4>
<p>drivers/pinctrl/core.c</p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509161423704.png" alt="image-20250916142330628" /></p>

<pre class="language-c"><code class="language-c">static struct pinctrl *create_pinctrl(struct device *dev,
    			      struct pinctrl_dev *pctldev)
{
    struct pinctrl *p;
    const char *devname;
    struct pinctrl_maps *maps_node;
    int i;
    const struct pinctrl_map *map;
    int ret;
    
    p = kzalloc(sizeof(*p), GFP_KERNEL);
    ...
    p-&gt;dev = dev;
    INIT_LIST_HEAD(&amp;p-&gt;states);
    INIT_LIST_HEAD(&amp;p-&gt;dt_maps);
    //第一部分
    ret = pinctrl_dt_to_map(p, pctldev);
    
    devname = dev_name(dev);
    ...
    for_each_maps(maps_node, i, map) {
    	/* Map must be for this device */
    	if (strcmp(map-&gt;dev_name, devname))
    		continue;
    		
        if (pctldev &amp;&amp;
            strcmp(dev_name(pctldev-&gt;dev), map-&gt;ctrl_dev_name))
            continue;
    	//第三部分
    	ret = add_setting(p, pctldev, map);
    	...
    }
    ...
    list_add_tail(&amp;p-&gt;node, &amp;pinctrl_list);
    ...
}
</code></pre>
<h4 id="pinctrl_dt_to_map%28%29%E5%87%BD%E6%95%B0">pinctrl_dt_to_map()函数</h4>
<p>drivers/pinctrl/devicetree.c</p>

<pre class="language-c"><code class="language-c">pinctrl-names = &quot;default&quot;，&quot;init&quot;,&quot;sleep&quot;;
pinctrl-0 = &lt;&amp;pinctrl_hog_1 &amp;aaa &amp;bbb&gt;;
pinctrl-1 =&lt;&amp;xxx&gt;;
pinctrl-2 =&lt;&amp;yyy&gt;;
</code></pre>

<pre class="language-c"><code class="language-c">int pinctrl_dt_to_map(struct pinctrl *p, struct pinctrl_dev *pctldev)
{
    /*iomux节点*/
    struct device_node *np = p-&gt;dev-&gt;of_node;
    int state, ret;
    char *propname;
    struct property *prop;
    const char *statename;
    const __be32 *list;
    int size, config;
    phandle phandle;
    struct device_node *np_config;
    
    ...
    // 所有的初始化状态
    for (state = 0; ; state++) {
        // 合成初始化属性的名字
    	propname = kasprintf(GFP_KERNEL, &quot;pinctrl-%d&quot;, state);
    	// 查找是不是有这个对应的设置, 可以获取到实际的配置引用数组
        prop = of_find_property(np, propname, &amp;size);
    	kfree(propname);
    	
    	if (!prop) {
    		if (state == 0) {
    			of_node_put(np);
    			return -ENODEV;
    		}
    		break;
    	}
    	list = prop-&gt;value;
    	// 获取当前state中的group数量
    	size /= sizeof(*list);
    	// 读取对应的名字, 之后设置在对应的引脚组配置里面
    	ret = of_property_read_string_index(np, &quot;pinctrl-names&quot;,state, &amp;statename);
    	...
         // 遍历所有的引脚组
    	for (config = 0; config &lt; size; config++) {
            //句柄
            phandle = be32_to_cpup(list++);
            //根据句柄查找子节点
            np_config = of_find_node_by_phandle(phandle);
            // 处理引脚组
            ret = dt_to_map_one_config(p, pctldev, statename,
                               np_config);
            ...
    	}
   ...
}
</code></pre>
<h4 id="dt_to_map_one_config%28%29%E5%87%BD%E6%95%B0">dt_to_map_one_config()函数</h4>
<p>drivers/pinctrl/devicetree.c</p>
<p>为每一个引脚创建一个pinctrl_map</p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509161438040.png" alt="image-20250916143818909" /></p>

<pre class="language-c"><code class="language-c">static int dt_to_map_one_config(struct pinctrl *p,
    			struct pinctrl_dev *hog_pctldev,
    			const char *statename,
    			struct device_node *np_config)
{
    struct pinctrl_dev *pctldev = NULL;
    struct device_node *np_pctldev;
    const struct pinctrl_ops *ops;
    int ret;
    struct pinctrl_map *map;
    unsigned num_maps;
    bool allow_default = false;
    
    np_pctldev = of_node_get(np_config);
    
    for (;;) {
    	/*获取到iomuxc节点*/	
        np_pctldev = of_get_next_parent(np_pctldev);

        if (hog_pctldev &amp;&amp; (np_pctldev == p-&gt;dev-&gt;of_node)) {
                // 成立
                pctldev = hog_pctldev;
                break;
            }
    	// 遍历数组里面的
        pctldev = get_pinctrl_dev_from_of_node(np_pctldev);

        if (pctldev)
            break;
    }
    ...
    //imx_pctrl_ops
    ops = pctldev-&gt;desc-&gt;pctlops;
    ...
    //imx_dt_node_to_map函数, 为每一个引脚组创建一个pinctrl_map数组, 并获取到对应的配置
    ret = ops-&gt;dt_node_to_map(pctldev, np_config, &amp;map, &amp;num_maps);
    ...
    // 初始化pinctrl_map的dev_name以及对应的配置名字, 创建pinctrl_dt_map
    return dt_remember_or_free_map(p, statename, pctldev, map, num_maps);
}
</code></pre>
<h4 id="of_node_get%28%29%E5%87%BD%E6%95%B0">of_node_get()函数</h4>
<p>include/linux/of.h</p>

<pre class="language-c"><code class="language-c">static inline struct device_node *of_node_get(struct device_node *node)
{
    return node;
}
</code></pre>
<h2 id="pinctl_map%EF%BC%9A%E5%BC%95%E8%84%9A%E4%B8%89%E5%8D%83%EF%BC%8C%E5%8F%AA%E5%8F%96%E4%B8%80%E7%93%A2">pinctl_map：引脚三千，只取一瓢</h2>
<h4 id="pinctrl_map%E6%95%B0%E7%BB%84">pinctrl_map数组</h4>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509161446912.png" alt="image-20250916144610707" /></p>
<ul>
<li><p>pin group配置信息</p>
<ul>
<li><p><code>pinctrl_map[0]</code>：配置pin group的所有引脚复用</p>
</li>
<li><p><code>pinctrl_map[1~n]</code>：配置pin group的每个引脚的属性</p>
</li>
</ul>
</li>
</ul>
<h4 id="%E5%87%BD%E6%95%B0%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90">函数层次分析</h4>
<p>pinctrl_enable()-&gt;pinctrl_claim_hogs()</p>
<ul>
<li><p>create_pinctrl</p>
<p>----------------------------------------------第一部分-------------------------------------</p>
<ul>
<li><p>pinctrl_dt_to_map()</p>
<ul>
<li><p>for (state = 0; ; state++)：查找外设所有pin group的状态</p>
<ul>
<li><p>for (config = 0; config &lt; size; config++)：查找状态的所有引脚组</p>
<p>------------------------------第二部分-------------------------------------</p>
<ul>
<li><p>dt_to_map_one_config</p>
<ul>
<li><p>创建一个pinctrl_map，负责初始化配置pin group的所有引脚复用</p>
</li>
<li><p>创建多个pinctrl_map，每个pinctrl_map负责配置引脚中的一个引脚属性</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>----------------------------------------------第三部分-------------------------------------</p>
<ul>
<li>add_setting</li>
</ul>
</li>
</ul>
<h4 id="imx_dt_node_to_map%28%29%E5%87%BD%E6%95%B0">imx_dt_node_to_map()函数</h4>
<p>drivers/pinctrl/freescale/pinctrl-imx.c</p>
<p>把引脚的数据转移到pinctrl_map里面进行保存</p>

<pre class="language-c"><code class="language-c">static int imx_dt_node_to_map(struct pinctrl_dev *pctldev,
    		struct device_node *np,
    		struct pinctrl_map **map, unsigned *num_maps)
{
    // 获取到dirver_data记录的imx_pinctrl变量
    struct imx_pinctrl *ipctl = pinctrl_dev_get_drvdata(pctldev);
    // 获取一下info指向的imx_pinctrl_soc_info变量
    const struct imx_pinctrl_soc_info *info = ipctl-&gt;info;
    const struct group_desc *grp;
    struct pinctrl_map *new_map;
    struct device_node *parent;
    int map_num = 1;
    int i, j;
    // 基数树里面查找一下group
    grp = imx_pinctrl_find_group_by_name(pctldev, np-&gt;name);
    
    if (info-&gt;flags &amp; IMX8_USE_SCU) {
    	map_num += grp-&gt;num_pins;
    } else {
        // 这里
    	for (i = 0; i &lt; grp-&gt;num_pins; i++) {
            // 遍历所有的引脚 
            struct imx_pin *pin = &amp;((struct imx_pin *)(grp-&gt;data))[i];
    	   // 查看一下是不是有这个标志, 在设备数里面设置, 一般是没有的, 取反, 获取到True
    	   if (!(pin-&gt;pin_conf.pin_memmap.config &amp; IMX_NO_PAD_CTL))
    			map_num++; // 计算一下有几个引脚需要建立pinctrl_map
    	}
    }
    
    new_map = kmalloc_array(map_num, sizeof(struct pinctrl_map),
    			GFP_KERNEL);
    			
    *map = new_map;
    *num_maps = map_num;
    
     /*iomuxc节点*/
     parent = of_get_parent(np);
     ...
     // 初始化第一个元素
     new_map[0].type = PIN_MAP_TYPE_MUX_GROUP;
     new_map[0].data.mux.function = parent-&gt;name;
     new_map[0].data.mux.group = np-&gt;name;
     ..
     new_map++;
     
     for (i = j = 0; i &lt; grp-&gt;num_pins; i++) {
    	struct imx_pin *pin = &amp;((struct imx_pin *)(grp-&gt;data))[i];

    	if (info-&gt;flags &amp; IMX8_USE_SCU) {
    		new_map[j].type = PIN_MAP_TYPE_CONFIGS_PIN;
    		new_map[j].data.configs.group_or_pin =
    				pin_get_name(pctldev, pin-&gt;pin);
    		new_map[j].data.configs.configs =
    				(unsigned long *)&amp;pin-&gt;pin_conf.pin_scu;
    		new_map[j].data.configs.num_configs = 2;
    		j++;
    	} else if (!(pin-&gt;pin_conf.pin_memmap.config &amp; IMX_NO_PAD_CTL)) {
            // 实际运行的部分, 从基数树里面查找数据的信息
    		new_map[j].type = PIN_MAP_TYPE_CONFIGS_PIN;
    		new_map[j].data.configs.group_or_pin =
    				pin_get_name(pctldev, pin-&gt;pin); // 使用引脚的编号, 查找一下引脚的名字
    		new_map[j].data.configs.configs =
    				&amp;pin-&gt;pin_conf.pin_memmap.config; // 获取属性配置
    		new_map[j].data.configs.num_configs = 1;
    		j++;
    	}
    }
    ...
}
</code></pre>
<h4 id="imx_pinctrl_find_group_by_name%28%29%E5%87%BD%E6%95%B0">imx_pinctrl_find_group_by_name()函数</h4>
<p>从基数树里面使用名字进行查找对应的group_desc结构</p>

<pre class="language-c"><code class="language-c">static inline const struct group_desc *imx_pinctrl_find_group_by_name(
    			struct pinctrl_dev *pctldev,
    			const char *name)
{
    const struct group_desc *grp = NULL;
    int i;

    for (i = 0; i &lt; pctldev-&gt;num_groups; i++) {
    	grp = pinctrl_generic_get_group(pctldev, i);
    	if (grp &amp;&amp; !strcmp(grp-&gt;name, name))
    		break;
    }

    return grp;
}
</code></pre>
<h4 id="pinctrl_generic_get_group%28%29%E5%87%BD%E6%95%B0">pinctrl_generic_get_group()函数</h4>
<p>drivers/pinctrl/core.c</p>
<p>查找</p>

<pre class="language-c"><code class="language-c">struct group_desc *pinctrl_generic_get_group(struct pinctrl_dev *pctldev,
    				     unsigned int selector)
{
    struct group_desc *group;

    group = radix_tree_lookup(&amp;pctldev-&gt;pin_group_tree,
    			  selector);
    if (!group)
    	return NULL;

    return group;
}
</code></pre>
<h4 id="pin_get_name%28%29%E5%87%BD%E6%95%B0">pin_get_name()函数</h4>
<p>drivers/pinctrl/core.c</p>
<p>使用引脚的编号获取引脚的名字</p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509162151642.png" alt="image-20250916215138560" /></p>

<pre class="language-c"><code class="language-c">const char *pin_get_name(struct pinctrl_dev *pctldev, const unsigned pin)
{
    const struct pin_desc *desc;
    // 获取对应的基数树里面的desc
    desc = pin_desc_get(pctldev, pin);
    if (!desc) {
    	dev_err(pctldev-&gt;dev, &quot;failed to get pin(%d) name\n&quot;,
    		pin);
    	return NULL;
    }

    return desc-&gt;name;
}
</code></pre>
<h4 id="pin_desc_get%E5%87%BD%E6%95%B0">pin_desc_get函数</h4>
<p>drivers/pinctrl/core.h</p>

<pre class="language-c"><code class="language-c">static inline struct pin_desc *pin_desc_get(struct pinctrl_dev *pctldev,
    				    unsigned int pin)
{
    return radix_tree_lookup(&amp;pctldev-&gt;pin_desc_tree, pin);
}
</code></pre>
<h4 id="dt_remember_or_free_map%28%29%E5%87%BD%E6%95%B0">dt_remember_or_free_map()函数</h4>
<p>drivers/pinctrl/devicetree.c</p>
<p>设置一下pinctrl_map数组, 设置名字以及对应的状态名字</p>

<pre class="language-c"><code class="language-c">static int dt_remember_or_free_map(struct pinctrl *p, const char *statename,struct pinctrl_dev *pctldev,struct pinctrl_map *map, unsigned num_maps)
{
    int i;
    struct pinctrl_dt_map *dt_map;

    /* Initialize common mapping table entry fields */
    for (i = 0; i &lt; num_maps; i++) {
        // 初始化引脚组的名字以及对应的配置名字
    	map[i].dev_name = dev_name(p-&gt;dev);
    	map[i].name = statename;
    	if (pctldev)
    		map[i].ctrl_dev_name = dev_name(pctldev-&gt;dev);
    }

    /* Remember the converted mapping table entries */
    // 创建pinctrl_dt_map
    dt_map = kzalloc(sizeof(*dt_map), GFP_KERNEL);
    if (!dt_map) {
    	dt_free_map(pctldev, map, num_maps);
    	return -ENOMEM;
    }

    dt_map-&gt;pctldev = pctldev;
    dt_map-&gt;map = map;
    dt_map-&gt;num_maps = num_maps;
    list_add_tail(&amp;dt_map-&gt;node, &amp;p-&gt;dt_maps);

    return pinctrl_register_map(map, num_maps, false);
}
</code></pre>
<h4 id="pinctrl_register_map%28%29%E5%87%BD%E6%95%B0">pinctrl_register_map()函数</h4>
<p>drivers/pinctrl/core.c</p>
<p><img src="https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202509162224417.png" alt="image-20250916222454338" /></p>

<pre class="language-c"><code class="language-c">int pinctrl_register_map(const struct pinctrl_map *maps, unsigned num_maps,
    		 bool dup)
{
    int i, ret;
    struct pinctrl_maps *maps_node;
    
    for (i = 0; i &lt; num_maps; i++) {
    // 判断一下是不是有初始化值, 这里都是成功的
    switch (maps[i].type) {
    	case PIN_MAP_TYPE_DUMMY_STATE:
    		break;
    	case PIN_MAP_TYPE_MUX_GROUP:
            // 0位置的进入这里
    		ret = pinmux_validate_map(&amp;maps[i], i);
    		if (ret &lt; 0)
    			return ret;
    		break;
    	case PIN_MAP_TYPE_CONFIGS_PIN:
    	case PIN_MAP_TYPE_CONFIGS_GROUP:
            // 其他位置的进入这里
    		ret = pinconf_validate_map(&amp;maps[i], i);
    		if (ret &lt; 0)
    			return ret;
    		break;
    	default:
    		pr_err(&quot;failed to register map %s (%d): invalid type given\n&quot;,
    		       maps[i].name, i);
    		return -EINVAL;
    	}
    }
    // 创建pinctrl_maps
    maps_node = kzalloc(sizeof(*maps_node), GFP_KERNEL);
    maps_node-&gt;num_maps = num_maps;
    
    if (dup) {
    	maps_node-&gt;maps = kmemdup(maps, sizeof(*maps) * num_maps,
    				  GFP_KERNEL);
    	if (!maps_node-&gt;maps) {
    		kfree(maps_node);
    		return -ENOMEM;
    	}
    } else {
        // 实际执行的
    	maps_node-&gt;maps = maps;
    }
    ...
    list_add_tail(&amp;maps_node-&gt;node, &amp;pinctrl_maps);
    ...
}
</code></pre>
<h4 id="pinmux_validate_map%28%29%E5%87%BD%E6%95%B0">pinmux_validate_map()函数</h4>
<p>drivers/pinctrl/pinmux.c</p>

<pre class="language-c"><code class="language-c">int pinmux_validate_map(const struct pinctrl_map *map, int i)
{
    // function记录的是iomux的名字, 所以这个判断是不成立的
    if (!map-&gt;data.mux.function) {
    	pr_err(&quot;failed to register map %s (%d): no function given\n&quot;,
    	       map-&gt;name, i);
    	return -EINVAL;
    }

    return 0;
}
</code></pre>
<h4 id="pinconf_validate_map%28%29%E5%87%BD%E6%95%B0">pinconf_validate_map()函数</h4>
<p>drivers/pinctrl/pinmux.c</p>

<pre class="language-c"><code class="language-c">int pinconf_validate_map(const struct pinctrl_map *map, int i)
{
    if (!map-&gt;data.configs.group_or_pin) {
    	pr_err(&quot;failed to register map %s (%d): no group/pin given\n&quot;,
    	       map-&gt;name, i);
    	return -EINVAL;
    }

    if (!map-&gt;data.configs.num_configs ||
    		!map-&gt;data.configs.configs) {
    	pr_err(&quot;failed to register map %s (%d): no configs given\n&quot;,
    	       map-&gt;name, i);
    	return -EINVAL;
    }

    return 0;
}
</code></pre>

                        
                    </div>
                </div>
                <div id="previous_next">
                    <div id="previous">
                        
                        <a href="/note/Linux/野火Linux/2025-7-20-19-DeviceTreeOverlay.html">
                            <span class="icon"></span>
                            <span class="label">2025-7-20-19-DeviceTreeOverlay</span>
                        </a>
                        
                    </div>
                    <div id="next">
                        
                        <a href="/note/Linux/野火Linux/2025-9-16-22-iomux节点(下).html">
                            <span class="label">2025-9-16-22-iomux节点(下)</span>
                            <span class="icon"></span>
                        </a>
                        
                    </div>
                </div>
                <div id="comments-container"></div>
            </div>
            <div id="toc_wrapper">
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="to_top" href="#"></a>
    <div id="doc_footer">
        <div id="footer">
            <div id="footer_top">
                <ul>
<li><a>链接</a><ul><li><a target="_blank" href="https://teedoc.neucrack.com">网站使用 teedoc 生成</a></li>
<li><a target="_blank" href="https://neucrack.com">Copyright © 2021 Neucrack</a></li>
<li><a  href="/note/sitemap.xml">网站地图</a></li>
</ul>
</li>
<li><a>源码</a><ul><li><a target="_blank" href="https://github.com/XuSenfeng/note/">github</a></li>
<li><a target="_blank" href="https://github.com/teedoc/teedoc">本网站源文件</a></li>
</ul>
</li>
</ul>

            </div>
            <div id="footer_bottom">
                <ul>
<li><a target="_blank" href="https://beian.miit.gov.cn">渝ICP备19015320号</a></li>
<li><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44030602004109">粤公网安备44030602004109号</a></li>
</ul>

            </div>
        </div>
    </div>
    
        <script src="/note/teedoc-plugin-markdown-parser/mermaid.min.js"></script>
    
        <script>mermaid.initialize({startOnLoad:true});</script>
    
        <script type="text/javascript">
                var transLoaded = false;
                var loading = false;
                var domain = "translate.google.com";
                var domainDefault = domain;
                var storeDomain = localStorage.getItem("googleTransDomain");
                if(storeDomain){
                    domain = storeDomain;
                    console.log("load google translate domain from local storage:" + domain);
                }
                function getUrl(domain){
                    if(domain == "/")
                        return "/static/js/google_translate/element.js?cb=googleTranslateElementInit";
                    else
                        return "https://" + domain + "/translate_a/element.js?cb=googleTranslateElementInit";
                }
                var url = getUrl(domain);
                console.log("google translate domain:" + domain + ", url: " + url);
                function googleTranslateElementInit() {
                    new google.translate.TranslateElement({pageLanguage: "auto", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                }
                function loadJS( url, callback ){
                    var script = document.createElement('script');
                    fn = callback || function(){ };
                    script.type = 'text/javascript';
                    if(script.readyState){
                        script.onreadystatechange = function(){
                            if( script.readyState == 'loaded' || script.readyState == 'complete' ){
                                script.onreadystatechange = null;
                                fn();
                            }
                        };
                    }else{
                        script.onload = function(){
                            fn();
                        };
                    }
                    script.src = url;
                    document.getElementsByTagName('head')[0].appendChild(script);
                }
                function removeHint(){
                    var hint = document.getElementById("loadingTranslate");
                    if(hint){
                        hint.remove();
                    }
                }
                var btn = document.getElementById("google_translate_element");
                btn.onclick = function(){
                    if(transLoaded) return;
                    if(loading){
                        var flag = confirm("loading from " + domain + ", please wait, or change domain?");
                        if(flag){
                            newDomain = prompt("domain, default: " + domainDefault + ", now: " + domain);
                            if(newDomain){
                                domain = newDomain;
                                console.log(domain);
                                url = getUrl(domain);
                                loadJS(url, function(){
                                    localStorage.setItem("googleTransDomain", domain);
                                    removeHint()
                                    transLoaded = true;
                                });
                            }
                        }
                        return;
                    }
                    btn.innerHTML = '<span id="loadingTranslate"><img class="icon" src="/note/static/image/google_translate/translate.svg"/>Loading ...</span>';
                    loading = true;
                    loadJS(url, function(){
                        localStorage.setItem("googleTransDomain", domain);
                        removeHint()
                        transLoaded = true;
                    });
                }
                </script>
            
    
        <script src="/note/static/js/theme_default/tocbot.min.js"></script>
    
        <script src="/note/static/js/theme_default/main.js"></script>
    
        <script src="/note/static/js/theme_default/viewer.min.js"></script>
    
        <script src="/note/static/css/theme_default/prism.min.js"></script>
    
        <script src="/note/static/js/search/search_main.js"></script>
    
        <script src="/note/static/js/plugin_blog/main.js"></script>
    
        <link rel="stylesheet" href="/note/static/js/add_hint/style.css" type="text/css"/>
    
        <script src="/note/static/js/add_hint/main.js"></script>
    
        <script src="/note/static/js/gitalk/gitalk.min.js"></script>
    
        <script src="/note/static/js/gitalk/main.js"></script>
    
        <script src="/note/static/js/custom.js"></script>
    
</body>

</html>