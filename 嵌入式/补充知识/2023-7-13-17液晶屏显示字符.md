---
layout: post
title: "液晶屏显示字符" 
date:   2023-7-13 15:39:08 +0800
tags: stm32
---

# 液晶屏显示字符

ASCII只有255个字符

GB2312: 兼容ASCII前127位, 两个大于127的数字连用表示一个汉字, 一共有八千多个符号, 包含6763个汉字, ASCII之中的的有的也是用两个字节进行编码, 叫做全角, 一般使用半角, 一般使用0xa1开始表示

区位码: 每一个区对应94个字符, 一共有94个区, 可以表示8836个码位, 每个字符有两个字节表示, 第一个字节表示区位码, 第二个字节表示的是位, 范围是0101-9494, 再加上0xa0就可以表示

GBK: 在GB2312的基础上增加了14240个新的汉字, 由于原来的格式原来的格式已经存放不下, 所以要求第一个编码大于127就可以了

GB18030: 在GBK上面进一步扩展, 第二个字节未使用的0x30-0x39编码表示扩充为四个字节, 兼容前几个, 只要增加了中日韩统一汉字编码扩充

Unicode: 各个国家制作的统一的字符集, 兼容ASCII, 还有一些表情emoji, 只是进行编号, 没有进行编码, 就是只是用一个数字代表一个字符, 但是没有使用具体的电脑解析的规范

utf-32: 编码和编号一样, 每一个字符使用4个字节进行表示, 前面的0不能省略, 会导致ASCII等编码变长

utf-16: 使用两个或者四个字节进行编写, 由于发现Unicode没有使用0xD800到0xDBFF所以利用这片空间表示映射 , 使用这一空间达到变长的目的

utf-8: 网页上使用的比较多, 也是一种变长的编码格式, 第一位设置为0, 就可以兼容ASCII的0-127, 其他的字符, 两个字节的时候第一个字节使用110开头, 第二个字节使用10开头, 三个字节的时候会使用1110开头, 之后是使用10开头, 以此类推, 将Unicode编码填入空位, 从最后一个字节开始填写, 不够的在前面加0

BOM: UTF16, UTF32使用的大小端各式需要标记, Linux默认没有这个BOM

![image-20230713150336782](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202310281044813.png)

## 字模

实际上字符就是一个图形

![image-20230713154917469](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202310281044814.png)

使用这个软件进行生成, 

### GB2312

实际使用的编码位是0xA1A1-FEFE, 汉字的区域是B0A1-F7FE, 原因是为了兼容ASCII, 最高位为1, 并且预留0x20个控制位

GB2312编码对收录的字符进行分区, 分为94个区, 每一个区有94个位, 一共有8836个码位

第16个区开始是汉字, 0-9是682个汉字以外的字符

10-15是空白区域没有使用

16-55是一级汉字, 按照拼音进行排序

56-87区收录3008个二级汉字, 按照部首进行排序

88-94是空白区没有使用

实际使用的时候就是: 区码加位码+A0A0, 比如''啊''是16区第一个, 就是0x1001+0xA0A0

实际在使用字模库的时候由于没有进行兼容偏移, 所以使用的是字符的在总个数的排序

Addr = (((ColdH - 0xA0 - 1)* 94) + (CodeL - 0xA0-1))\*32\*32/8

> 在这里面会除去前面为了兼容ASCII不使用的字节, 以及空白字符和每一个区里面的空位

## GBK

![image-20240109151502178](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202401091515285.png)

![image-20240109153557444](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202401091535533.png)



