---
layout: post
title: "WWDG" 
date:   2023-12-1 15:39:08 +0800
tags: HAL库 stm32
---

# 定时器

## 基本定时器

![image-20231201195117247](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312011951303.png)

![image-20231201195219189](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312011952236.png)

![image-20231201195239509](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312011952554.png)

> 基本定时器的计数模式和时钟分频因子是没有用的, 也没有重复计数器

## 生成PWM

### 配置

![image-20231202210853799](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312022148934.png)

![image-20231202211037959](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312022148041.png)

![image-20231202211147643](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312022148070.png)

> PWM模式只需要设置前面三个

#### 实际的使用

![image-20231202213837866](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312022148867.png)

## 测量脉冲长度

![image-20231202221230514](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031852724.png)

![image-20231202223150133](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031852773.png)

![image-20231202223222103](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031852872.png)

![image-20231202223417148](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031852662.png)

## 捕获脉冲

![image-20231203190002368](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031900414.png)

![image-20231203190705953](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031907034.png) 

![image-20231203190746699](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031907739.png)

## 高级定时器输出指定数量的PWM

![image-20231203195856354](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312031958413.png)

### 输出比较

![image-20231203210128991](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312032101042.png)

![image-20231203210149474](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312032101521.png)

## 带死区的PWM输出

![image-20231204154458900](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041544963.png)

![image-20231204154539724](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041545768.png)

![image-20231204154557967](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041545020.png)

> 比较极性就是有效电平, 空闲状态下的电平就是刹车以后得电平

![image-20231204154619245](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041546296.png)

> 关闭状态就是定时器不工作时候的输出信号设置
>
> 锁寄存器也不使用
>
> 自动恢复会在下一个时钟更新事件以后恢复输出
>
> ![image-20231204161502074](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041615105.png)

## 捕获PWM

![image-20231204170107764](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041701827.png)

![image-20231204170243714](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041702761.png)

![image-20231204170300039](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312041703093.png)
