---
layout: post
title: "ai绘画"  
date:   2023-5-1 11:29:08 +0800
categories: ai 绘画 
---

# 安装

1.   安装python

>   python -V

2.   ```
     nvidia-smi #检查显卡,安装CUDA
     
     
     C:\Users\JHY>nvidia-smi
     Mon May 01 13:03:37 2023
     +-----------------------------------------------------------------------------+
     | NVIDIA-SMI 452.06       Driver Version: 452.06       CUDA Version: 11.0     |
     |-------------------------------+----------------------+----------------------+
     | GPU  Name            TCC/WDDM | Bus-Id        Disp.A | Volatile Uncorr. ECC |
     | Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
     |===============================+======================+======================|
     |   0  GeForce GTX 166... WDDM  | 00000000:01:00.0  On |                  N/A |
     | N/A   48C    P8     5W /  N/A |    511MiB /  6144MiB |      1%      Default |
     +-------------------------------+----------------------+----------------------+
     
     +-----------------------------------------------------------------------------+
     | Processes:                                                                  |
     |  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
     |        ID   ID                                                   Usage      |
     |=============================================================================|
     |    0   N/A  N/A      1412    C+G   Insufficient Permissions        N/A      |
     |    0   N/A  N/A      2412    C+G   Insufficient Permissions        N/A      |
     |    0   N/A  N/A      3212    C+G   ...lPanel\SystemSettings.exe    N/A      |
     |    0   N/A  N/A      4672    C+G   ...e\PhoneExperienceHost.exe    N/A      |
     |    0   N/A  N/A      4776    C+G   C:\Windows\explorer.exe         N/A      |
     |    0   N/A  N/A      7044    C+G   ...er_engine\wallpaper32.exe    N/A      |
     |    0   N/A  N/A      8908    C+G   ...\typora\Typora\Typora.exe    N/A      |
     |    0   N/A  N/A     12164    C+G   ...8wekyb3d8bbwe\Cortana.exe    N/A      |
     |    0   N/A  N/A     12424    C+G   ...2txyewy\TextInputHost.exe    N/A      |
     |    0   N/A  N/A     12804    C+G   ...2gh52qy24etm\Nahimic3.exe    N/A      |
     |    0   N/A  N/A     14040    C+G   ...oft\OneDrive\OneDrive.exe    N/A      |
     |    0   N/A  N/A     14748    C+G   ...5n1h2txyewy\SearchApp.exe    N/A      |
     |    0   N/A  N/A     17580    C+G   ...cw5n1h2txyewy\LockApp.exe    N/A      |
     +-----------------------------------------------------------------------------+
     ```

3.   安装整合包https://www.bilibili.com/video/BV1iM4y1y7oA/?spm_id_from=333.788.video.desc.click&vd_source=3771cc8df803eed7244034a762706c24
4.   安装启动器https://www.bilibili.com/video/BV1ne4y1V7QU/

## 使用

模型, 使用不同的图片训练出来的模型

>   ``` 
>   E:\alearn\sb-webui-aki-v4\sd-webui-aki\sd-webui-aki-v4\models\Stable-diffusion
>   ```
>
>   模型地址

VAE可以理解为滤镜

>   ```
>   E:\alearn\sb-webui-aki-v4\sd-webui-aki\sd-webui-aki-v4\models\VAE
>   ```
>
>   改为Checkpoint一样的可以自动加载

### 提示词

+   内容型提示词

直接描写画面内容

只有这个的话画面会不清晰

+   画质

```
best quality, ultra-detailed, masterpiece, hires, 8K, 
```

+   画风

```
插画 illustration, painting, paintbrush
二次元 anime, comic, game CG
写实 photorealistic, realistic, photograph
```

+   权重

加括号\==>1.1, 可以有多个, 大括号\==>1.05, 中括号==>0.9

或者括号加数字(nude:1.5)

![image-20230609191707438](E:\a学习\笔记\img\image-20230609191707438.png)

采样的步数, ai加噪去噪的步数, 20次即可

![image-20230609191736763](E:\a学习\笔记\img\image-20230609191736763.png)

使用的算法, eular 适合插画风格, dpm 2M 2m karras速度快, sde karras细节比较多

![image-20230609192009013](E:\a学习\笔记\img\image-20230609192009013.png)

分辨率, 可以使用低分辨率进行绘制再使用高清修复来进行放大

![image-20230609192323277](E:\a学习\笔记\img\image-20230609192323277.png)

面部修复对于插画不适合

![image-20230609192505766](E:\a学习\笔记\img\image-20230609192505766.png)

7-12即可

![image-20230609192541917](E:\a学习\笔记\img\image-20230609192541917.png)

按照相同的提示词进行绘画