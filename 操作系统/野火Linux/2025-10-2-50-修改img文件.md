# 修改img文件

完整的img镜像(将开发板直接提供的xxx.img.xz镜像文 件解压也能得到img文件)，除了重新编译镜像之外，还有一种方法也能够修改img镜像内部的 内容，将部署应用程序需要的一些程序、脚本等文件直接添加到img镜像中

##  实际操控

### 查看信息

可以使用命令`parted imx6ull-lubancat-carp-console-armhf-2021-04-08.img`进入img文件里面

在命令行输入`unit b`以及`print`可以查看分区以及大小的信息

![image-20251002165353095](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202510021803825.png)

### 挂载

```bash
sudo mount-o loop,offset=46137344 imx6ull-lubancat-carp-console-armhf-2021-04-08.img ./dir_img/
```

使用上面获取到的位置进行挂载, 接着就可以往挂载了img镜像的目录下添加自己想要的脚本、程序等文件

修改完成之后回到刚刚的目录下取消挂载img镜像的文件系统，取消挂载之后在dir_img目 录下的目录和文件将会消失

` sudo umount ./dir_img`

此时得到img镜像已经是修改过的img镜像了