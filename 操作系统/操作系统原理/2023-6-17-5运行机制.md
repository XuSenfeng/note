---
layout: post
title: "运行机制" 
date:   2023-6-18 15:39:08 +0800
tags: 操作系统     
---

# 运行机制

高阶代码经过翻译对应多条机器指令, 指CPU可以识别, 执行的最基本命令

程序分为应用程序, 内核程序, 内核程序组成内核, 是操作系统最核心的部分, 也是最接近硬件的

操作系统的功能不都是内核, 比如说GUI

内核是管理者, 有时会执行影响比较大得指令(特权指令、广义指令), 只允许内核来使用

应用只能使用非特权指令, CPU在生产的时候可以分辨不同的指令

CPU会被划分为内核态, 用户态, 可以执行的指令不同

>   程序状态寄存器(PSW), 1为内核态
>
>   内核态=管态, 用户态=目态

+   状态切换: 内核=>用户有一条特权指令会使内核态转换为用户态, 用户=>内核:中断, **硬件完成(模式的改变以及保存状态字)**
+   在用户态得到一个特权指令CPU会转换为内核态, 并强行制止, 暂停程序, 执行中断内核程序

>   用户保存程序计数器, 中断处理保存PC以及程序状态寄存器(PSW)





















