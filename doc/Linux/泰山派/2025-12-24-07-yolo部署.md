# YOLO部署

## V5

## 训练

使用`python train.py --data=./data/my_dest.yaml`进行训练

### 导出

导出的时候需要更改一下模型的样式

使用下面的函数代替原本的forward函数`yolov5/models/yolo.py`(只有导出的时候), 原本的函数会在这个函数里面处理模型输出到实际的图片坐标转换, 这里不使用

```python
# RKNN 使用的forward
def forward(self, x):
    z = []
    for i in range(self.nl):
        # 只使用一个激活函数 sigmoid, 对每一个输出通道使用相同的激活函数
        # 直接获取预测结果
        # 输出 (bs, na*ny*nx, no) 的“原始预测值”（还没乘 grid、没乘 anchor、没算 xywh 到像素坐标）
        x[i] = torch.sigmoid(self.m[i](x[i]))
    return x
```



使用`python export.py --opset=12`

## 使用gcc11



