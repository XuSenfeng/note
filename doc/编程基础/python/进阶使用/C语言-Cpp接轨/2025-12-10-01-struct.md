# struct库

该模块作用是完成Python数值和C语言结构体的Python字符串形式间的转换。这可以用于处理存储在文件中或从网络连接中存储的二进制数据，以及其他数据源

`Struct`支持将数据packing(打包)成字符串，并能从字符串中逆向unpacking(解压)出数据。

| 格式字符 | C 类型           | Python 类型 | 字节数 |
| -------- | ---------------- | ----------- | ------ |
| `b`      | `signed char`    | `int`       | 1      |
| `B`      | `unsigned char`  | `int`       | 1      |
| `h`      | `short`          | `int`       | 2      |
| `H`      | `unsigned short` | `int`       | 2      |
| `i`      | `int`            | `int`       | 4      |
| `I`      | `unsigned int`   | `int`       | 4      |
| `f`      | `float`          | `float`     | 4      |
| `d`      | `double`         | `float`     | 8      |

| 字符 | 字节序                         |
| ---- | ------------------------------ |
| `@`  | 本机字节序（默认）             |
| `=`  | 本机字节序，但强制使用标准大小 |
| `<`  | 小端字节序                     |
| `>`  | 大端字节序                     |
| `!`  | 网络字节序（大端字节序）       |

## 打包

```python
import struct
 
# 打包一个整数和一个浮点数
data = struct.pack('>if', 123, 3.14)
print(data)
```

## 解包

```python
import struct
 
data = struct.pack('>if', 123, 3.14)
num1, num2 = struct.unpack('>if', data)
print(num1, num2)
```

## 其他

```python
# 计算结构体大小
struct.calcsize(format)
```

