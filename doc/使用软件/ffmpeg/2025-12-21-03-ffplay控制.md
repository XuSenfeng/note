# ffplay控制

## 播放时

1.   基础播放控制（最常用）

| 快捷键  | 功能说明            | 实用场景                 |
| ------- | ------------------- | ------------------------ |
| 空格    | 暂停 ↔ 继续播放     | 临时暂停看画面 / 听音频  |
| q / ESC | 退出 ffplay 播放器  | 播放完毕 / 无需继续观看  |
| 左箭头  | 后退 10 秒          | 回看上一段内容           |
| 右箭头  | 前进 10 秒          | 快进跳过无关内容         |
| 下箭头  | 后退 1 秒           | 精细回退（比如错过台词） |
| 上箭头  | 前进 1 秒           | 精细快进                 |
| c       | 开启 ↔ 关闭循环播放 | 测试视频循环播放效果     |

2. 音量 / 音频控制

| 快捷键      | 功能说明                                       | 补充细节                           |
| ----------- | ---------------------------------------------- | ---------------------------------- |
| m           | 静音 ↔ 取消静音                                | 快速关闭音频，保留画面             |
| 9           | 降低音量（每次约 5%）                          | 音量过大时微调                     |
| 0（数字零） | 提高音量（每次约 5%）                          | 音量过小时微调                     |
| a           | 切换音频轨道（多音频轨文件，如双语视频）       | 比如切换 “国语 / 英语” 音轨        |
| A           | 循环切换音频声道（单声道 / 立体声 / 交换左右） | 解决声道错乱（如只有左声道有声音） |

3. 画面 / 显示控制

| 快捷键      | 功能说明                                                   | 实用场景                       |
| ----------- | ---------------------------------------------------------- | ------------------------------ |
| f           | 全屏 ↔ 退出全屏                                            | 大屏观看视频                   |
| 0（字母 o） | 切换 OSD 显示（显示 / 隐藏播放信息：时长、进度、帧率）     | 查看视频帧率 / 码率等信息      |
| w           | 切换显示模式（仅视频 ↔ 视频 + 音频波形 ↔ 视频 + 音频频谱） | 分析音频波形 / 频谱（调试用）  |
| r           | 视频旋转（每次 90 度顺时针）                               | 纠正竖屏 / 横屏颠倒的视频      |
| s           | 帧步进（暂停时按，播放下一帧）                             | 逐帧分析视频画面（如找故障帧） |
| ,（逗号）   | 帧后退（暂停时按，回退上一帧）                             | 精细回看某一帧                 |
| 1 / 2       | 降低 / 提高画面对比度                                      | 调整画面清晰度                 |
| 3 / 4       | 降低 / 提高画面亮度                                        | 暗画面提亮                     |
| 5 / 6       | 降低 / 提高画面饱和度                                      | 调整色彩鲜艳度                 |
| 7 / 8       | 降低 / 提高 Gamma 值                                       | 适配显示器亮度                 |

4. 播放速度 / 轨道控制

| 快捷键    | 功能说明                                     | 补充细节                      |
| --------- | -------------------------------------------- | ----------------------------- |
| /（斜杠） | 降低播放速度（每次约 0.5 倍速，最低 0.1 倍） | 慢放看细节（如动作视频）      |
| *（星号） | 提高播放速度（每次约 1.5 倍速，最高 10 倍）  | 快放看完长视频                |
| v         | 切换视频轨道（多视频轨文件，极少用）         | 如视频包含 “原画 / 低清” 双轨 |
| t         | 切换字幕轨道（多字幕轨文件）                 | 切换不同语言字幕              |
| p         | 显示 / 隐藏字幕（有字幕轨时）                | 关闭干扰的字幕                |
| a         | 切换音频轨道                                 |                               |

二、鼠标操作控制（辅助）

| 操作方式           | 功能说明                 | 补充细节                           |
| ------------------ | ------------------------ | ---------------------------------- |
| 点击播放窗口进度条 | 跳转到对应时间点         | 进度条左侧 = 已播放，右侧 = 未播放 |
| 鼠标滚轮（向上）   | 提高音量（等效按 0 键）  | 比键盘更顺滑的音量调节             |
| 鼠标滚轮（向下）   | 降低音量（等效按 9 键）  | -                                  |
| 右键点击播放窗口   | 暂停播放（部分版本支持） | 替代空格的快捷操作                 |

## 命令选项

+   -x: 强制显示宽度
+   -y: 强制显示高度
+   -video_size size: 设置播放的帧尺寸, 原始的YUV没有帧大小的时候
+   -pixel_foemat format: 设置像素的格式
+   -fs: 全屏
+   -an: 禁用音频
+   -vn: 禁用视频
+   -sn: 禁用字幕
+   -ss pos: 根据设置的秒进行定位, 一个数字是秒, 可以使用`hh:mm:ss`的时间格式
+   -t: 设置播放的长度
+   -bytes: 按照字节进行拖动, 0=off, 1=on, -1=auto, 需要是帧头和图像一起存储的才可以使用
+   -nodisplay: 关闭图形显示
+   -noborder: 无边框
+   -volume: 起始的音量
+   -f fmt: 强制使用设置的格式解析 -f s16le
+   -window_title title 设置窗口的标题
+   -loop: 循环次数
+   -showmode mode: 显示的模型, 0视频, 1音频波形, 2音频频谱, 默认为0, 没有视频使用2
+   -vf filtergraph: 设置滤镜
+   -af : 音频滤镜

### 高级参数

+   stats: 打印多个回放统计数据, 显示流持续时间, 编码器的参数, 流的当前位置, 音视频同步同步差值, 默认启用, 可以使用`-nostats`, 在代码里面查找这个可以获取到获取各种参数的点代码
+   -fast: 非标准化规范的多媒体兼容优化
+   -genpts: 生成pts
+   -sync type: 同步类型, 将主时钟设置为audio(type=audio), video或者external(type=ext), 默认为audio
+   -ast audio_stream_specifier: 指定音频流索引, -vst 视频流, -sst 字幕流
+   -autoexit: 自动退出
+   -acodec codec_name:  强制使用音频解码器
+   -vcodec codec_name: 视频解码器
+   -scodec codec_name: 字幕解码器
+   -autorotate: 自动旋转
+   -framedrop: 视频不同步的时候丢弃视频, 主时钟不是视频时钟的时候自动开启, 禁用是`-noframedrop`
+   -infbuf: 不限制输入缓冲区的大小, 尽可能快的从输入里面读取数据, 播放实时视频的时候默认开启

## 播放文件

![image-20251226090312203](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/mac-picture/image-20251226090312203.png)

![image-20251226090451122](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/mac-picture/image-20251226090451122.png)

>   播放原始数据的时候, 需要自己手动设置视频的参数

## 简单过滤器

这个内容比较复杂, 了解即可

![image-20251226090901499](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/mac-picture/image-20251226090901499.png)

>   直接使用ffplay声音变速的时候会变调
