# 姿态解算

二维的机械臂的姿态解算实际可以理解为坐标系的旋转, 旋转以后在x轴上面进行平移, 这个变化可以使用一个旋转平移矩阵实现

```bash
[cos(x), -sin(x), x]
[sin(x),  cos(x), y]
[     0,       0, 1]
```

这里的x指的是当前的这个杆相对于前一个杆的角度, 以及在之前的那个杆相同角度和垂直角度的平移

三维的变化起始也是差不多的, 使用三个二维的矩阵合起来可以获取一个三维的变化矩阵

+ 逆运算

实际使用大部分需要是逆运算, 已知一个位置, 如何到达对应位置

可能没有解, 多个解, 一个解等, 实际运算的时候, 可以画圆去解

> 实际运动的时候会出现奇异点, 一般是在边界的位置, 在某个位置的时候, 某个轴的移动是不可能的, 比如胳膊伸直的时候, 不能再延长, 在计算的时候会出问题, 站直的机器人一般腿也不是直的

一般的运算方法有两种, 解析法使用三角函数去运算, 另一种是数值法, 假定一个初始的角度, 算出来末尾的位置, 之后通过微调的方式迭代或者使用穷举的形式

比较常用的是梯度下降的方式, 在奇异点会出错

