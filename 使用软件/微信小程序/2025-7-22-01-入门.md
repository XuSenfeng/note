# 微信小程序

## 注册账号

https://mp.weixin.qq.com/

![image-20250722181030441](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507221810578.png)

## 成员

人员有两种

+ 项目成员
+ + 开发者
    + 运营
    + 数据分析
+ 体验人员

## 开发

获取小程序的id

![image-20250722185145914](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507221851035.png)

之后下载开发工具, 必须联网使用

### 本地开发支持http

使用Django运行在0.0.0.0:8000, 默认不支持http, 需要修改

## 目录文件

主要的控制文件, 在根目录下面, 控制整个程序

+ app.js --- 小程序入口, 运行的时候先执行这个文件
+ app.json --- 全局配置, 顶部的颜色, 标题, 是不是有下拉刷新

[微信开放文档 / 框架](https://developers.weixin.qq.com/miniprogram/dev/reference/)

![image-20250722192928727](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507221929915.png)

![image-20250722193249729](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507221932771.png)

entryPagePath: 默认启动界面

pages: 小程序总共有多少界面

window: 全局的默认表现, 顶部颜色, 是否下拉

style: 微信升级以后ui样式

+ app.wxss --- 全局的样式, 全局生效
+ project : 项目文件, 项目配置

![image-20250722194515844](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507221945942.png)

![image-20250722194551701](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507221945757.png)

记录项目的配置以及开发者的个人信息

+ sitemap.json --- 搜索优化

seo相关的配置, 可以配置是否可以被索引, 允许的时候, 使用爬虫形式在小程序界面建立索引, 搜索触发的展示

```json
{
  "desc": "关于本文件的更多信息，请参考文档 https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html",
  "rules": [{
  "action": "allow", // 可以查到所有页面, 任意页面关键字 ==> 可以被搜索
  "page": "*"
  }]
}
```

+ .eslintrc.js --- 语法检查

页面文件

在pages文件夹下面, 下面有很多的文件夹, 里面有多个文件

+ xx.js       # 页面逻辑, js代码控制
+ xx.wxml # 页面结构, 布局
+ xx.json  # 页面配置, 只影响当前的页面, 覆盖app.json中的相同的属性

| 属性                         | 类型     | 默认值  | 描述                                             | 最低版本 |
| :--------------------------- | :------- | :------ | :----------------------------------------------- | :------- |
| navigationBarBackgroundColor | HexColor | #000000 | 导航栏背景颜色，如 `#000000`                     |          |
| navigationBarTextStyle       | string   | white   | 导航栏标题、状态栏颜色，仅支持 `black` / `white` |          |
| navigationBarTitleText       | string   |         | 导航栏标题文字内容                               |          |

+ xx.wxss  # 页面样式 

> components: 使用的组件, 按钮等, 一个组件一个文件夹, 实际的和pages里面一样

## webview和skyline渲染

webview: 老一点, 稳定, 支持新老版本

skyline: 新版本, 不支持老版本

![image-20250722195349761](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507221953806.png)

删除这个使用老版本

## 增加页面

### 方式一

1. 自己在pages里面建立文件夹
2. 右键新建Page, 自动创建四个文件
3. app.json的pages里面多出来一行

### 方式二

在app.json里面直接新加一句, 自动创建

## 启动顺序

1. 在app.json里面修改pages的顺序
2. 在默认参数entryPagePath设置默认的启动页面
3. 临时使用

![image-20250723094832217](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507230948262.png)

![image-20250723094934320](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507230949365.png)

## 调试小程序

### 基础库

一直在进行升级, 比如转发功能, 发送朋友圈等, 基于老的版本开发的时候有的功能没有, 写了没效果, 需要确认版本

![image-20250723095241071](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507230952110.png)

![image-20250723095629695](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507230956761.png)

### 真机调试

![image-20250723095706753](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507230957790.png)

手机连接以后可以显示上面的控制终端

```c
{
  "pages": [
    "pages/index/index"
  ],
  "window": {
    "navigationBarTextStyle": "black", // 导航栏文字颜色
    "navigationBarTitleText": "XvSenfengAI桌宠", // 导航栏标题
    "navigationBarBackgroundColor": "#ffffff", // 导航栏背景颜色
    "enablePullDownRefresh": false, // 是否开启下拉刷新
    "backgroundColor": "#ff0fff", // 背景颜色
    "backgroundTextStyle": "light" // 刷新的时候几个点的颜色
  },
  "style": "v2",
}
```

### 最简项目

![image-20250723101424914](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231014959.png)

最简单的项目

![image-20250723101633855](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231016965.png)

## 组件

[微信开放文档 / 组件](https://developers.weixin.qq.com/miniprogram/dev/component/)

### tabbar

顶部或者底部的页面导航

#### 设置

在app.json里面配置

### text

不换行,放文字

![image-20250723104050979](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231040056.png)

### view

是一个换行, 可以放文字和其他东西, 类似于`<div>`

### image

图片。支持 JPG、PNG、SVG、WEBP、GIF 等格式

`<image src="/images/order.png" style="height: 750rpx; width: 400rpx;"></image>`

![image-20250723105034188](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231050320.png)

mode: 图片裁剪、缩放的模式

| 合法值       | 说明                                                         | 最低版本                                                     |
| :----------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| scaleToFill  | 缩放模式，不保持纵横比缩放图片，使图片的宽高完全拉伸至填满 image 元素 |                                                              |
| aspectFit    | 缩放模式，保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来。 |                                                              |
| aspectFill   | 缩放模式，保持纵横比缩放图片，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取。 |                                                              |
| widthFix     | 缩放模式，宽度不变，高度自动变化，保持原图宽高比不变         |                                                              |
| heightFix    | 缩放模式，高度不变，宽度自动变化，保持原图宽高比不变         | [2.10.3](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html) |
| top          | 裁剪模式，不缩放图片，只显示图片的顶部区域。仅 Webview 支持。 |                                                              |
| bottom       | 裁剪模式，不缩放图片，只显示图片的底部区域。仅 Webview 支持。 |                                                              |
| center       | 裁剪模式，不缩放图片，只显示图片的中间区域。仅 Webview 支持。 |                                                              |
| left         | 裁剪模式，不缩放图片，只显示图片的左边区域。仅 Webview 支持。 |                                                              |
| right        | 裁剪模式，不缩放图片，只显示图片的右边区域。仅 Webview 支持。 |                                                              |
| top left     | 裁剪模式，不缩放图片，只显示图片的左上边区域。仅 Webview 支持。 |                                                              |
| top right    | 裁剪模式，不缩放图片，只显示图片的右上边区域。仅 Webview 支持。 |                                                              |
| bottom left  | 裁剪模式，不缩放图片，只显示图片的左下边区域。仅 Webview 支持。 |                                                              |
| bottom right | 裁剪模式，不缩放图片，只显示图片的右下边区域。仅 Webview 支持。 |                                                              |

### icon

```c
<icon type="success" size="93"></icon>
```

| 属性  | 类型          | 默认值 | 必填 | 说明                                                         | 最低版本                                                     |
| :---- | :------------ | :----- | :--- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| type  | string        |        | 是   | icon的类型，有效值：success, success_no_circle, info, warn, waiting, cancel, download, search, clear | [1.0.0](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html) |
| size  | number/string | 23     | 否   | icon的大小，单位默认为px，[2.4.0](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html)起支持传入单位(rpx/px)，[2.21.3](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html)起支持传入其余单位(rem 等)。 | [1.0.0](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html) |
| color | string        |        | 否   | icon的颜色，同css的color                                     | [1.0.0](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html) |

### button

+ size:

| 合法值  | 说明     |
| :------ | :------- |
| default | 默认大小 |
| mini    | 小尺寸   |

+ type:

| 合法值  | 说明 |
| :------ | :--- |
| primary | 绿色 |
| default | 白色 |
| warn    | 红色 |

| plain | boolean  | false   | 否    | 按钮是否镂空，背景色透明 | [1.0.0](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html) |                                                              |
| ----- | -------- | ------- | ----- | ------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
|       | disabled | boolean | false | 否                       | 是否禁用                                                     | [1.0.0](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html) |
|       | loading  | boolean | false | 否                       | 名称前是否带 loading 图标                                    | [1.0.0](https://developers.weixin.qq.com/miniprogram/analysis/experience/compatibility.html) |

> bool类型的写上就是true, 不写是false

### swiper+swiper-item轮播图

```html
<swiper>
  <swiper-item>
  1
  </swiper-item>
  <swiper-item>
  2
  </swiper-item>
  <swiper-item>
  3
  </swiper-item>
</swiper>
```

 autoplay: 自动播放

 indicator-dots: 指示点面板是不是有

 indicator-color,  indicator-active-color: 指示点的颜色

 interval: 自动切换时间间隔

 duration: 滑动动画时长

 circular: 衔接滑动

### input输入框

```html
<!-- 输入框, 可以直接绑定到data中的变量 -->
<input type="text" model:value="{{goodsName}}" style="border: 1px solid #ccc;"/>
```

## 图标获取

[iconfont-阿里巴巴矢量图标库](https://www.iconfont.cn/?spm=a313x.collections_index.i3.d4d0a486a.41cc3a81SqMfep)

![image-20250723141924891](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231419946.png)

![image-20250723142009752](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231420810.png)

![image-20250723142214120](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231422185.png)

![image-20250723142244683](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231422740.png)

> 编码以后不需要下载

![image-20250723142320016](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231423063.png)

![image-20250723142845192](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231428258.png)

> 只可以使用wxss结尾的文件

+ 实际引入

![image-20250723143025498](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231430544.png)

![image-20250723143228056](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507231432151.png)

在标签里面加入这两个类`<text class="icon-jihuo iconfont">欢迎来到订单页面！</text>`

## 尺寸单位和样式

### 尺寸

`style="height: 300rpx;"`

`<view style="height: 300rpx;background-color: aqua;"></view>`

小程序里面不同的手机的大小是不同的, 所以使用像素的大小的时候会出现问题, 统一使用rpx, 宽度是750rpx, 之后进行等比例缩放

### 样式

#### 全局样式

在app.wxss里面进行配置, 在这里面写css样式, 整个小程序到生效

#### 局部样式

在 页面.wxss

> 一般style不直接在标签里面, 可以使用class创建一个类选择器

```html
<view class="myview"><text>测试</text></view>
```

之后可以在.wxss文件里面进行选择

```css
.myview {
  height: 500rpx;
  width: 300rpx;
  background-color: brown !important;
}
```

> 如果和默认的样式冲突的话, 可以在后面加一个`!important`

#### 奇数偶数

```js
view:nth-child(odd){
    // 奇数
}
view:nth-child(odd){
    // 奇数
}
```



## flex布局

是一种布局的方式, , 相比于传统的display属性+position属性+float属性, 对于特殊的对齐比较麻烦任意一个容器都可以指定这个布局

+ 简单易懂
+ 弹性自适应, 使用不同尺寸的屏幕
+ 等高布局
+ 对齐排序
+ 可以和传统的相互结合

> 使用`display: flex`启用这个布局

![image-20250724101555096](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507241015179.png)

### 基础概念

容器: container 项目: item

默认存在两根轴, 水平的主轴(main axis), 竖直的(cross axis) , 实际使用的时候可以交换主轴的方向

+ 主轴开始的位置 main start, 结束在 main end, 交叉轴开始的位置cross start 结束的位置 cross end
+ 默认按照主轴进行排列, 单个元素占据的大小是main size, 占据交叉轴的大小是cross size

### 容器的样式属性

1. `flex-direction`: 主轴的方向 row: 默认的, 起点 在左端, row-reverse: 起点在右端, clumn: 主轴垂直, 起点在上边, clumn: 起点在下边
2. `flex-wrap`: 一条轴放不下如何换行, nowrap: 不换行(默认), wrap:换行在第一行在上边, wrap-reverse: 换行在下边
3. `flex-flow`: 上面两个属性的集合, `flex-flow: flex-direction flex-wrap`
4. `justify-content`: 主轴如何对齐, flex-start: 左对齐, flex-end: 右对齐, center: 居中, space-between: 两端对齐, 间距相等, space-around: 两侧间距相等, 项目之间间距比边框大一倍, space-evenly: 项目之间和项目于边框相等
5. `align-items`: 交叉轴的对齐方式, flex-start: 交叉轴起点, flex-end: 交叉轴终点, center: 居中, baseline: 第一行文字基准线(高度不同的时候里面的文字显示位置是对齐的), stretch(默认): 未设置高度或者auto的时候占满
6. `align-content`: 多跟轴线的对齐方式, 只有一根的时候不起作用(换行的时候会有), flex-start: 交叉轴起始点对齐, flex-end, center, space-between: 交叉轴两端对齐, 轴线之间的间距平均分布, space-around: 轴线左右两侧的间距相等, 之间间隔比和边框的大一倍, stretch(默认): 轴线占满整个交叉轴

### 项目属性

1. `flex-grow`（放大比例）
    控制项目的放大比例，定义在分配剩余空间时，项目如何增长。默认值为0，表示不放大。值越大，项目越可能占用更多剩余空间。**弹簧控制大小**
2. `flex-shrink`（缩小比例）
    控制项目的缩小比例，定义在空间不足时，项目如何缩小。默认值为1，表示会缩小。值越大，项目越容易缩小。都为1的时候空间不足等比例缩小, 设置为0的时候这个不缩小, 其他的缩小
3. `flex-basis`（主轴尺寸基础值）
    设置在分配多余空间之前，项目的默认主轴尺寸。可以使用长度值（如px, %)或auto（默认值）。它影响项目的初始大小。这个写定以后其他的再去分配
4. `flex`（简写属性，结合了flex-grow, flex-shrink, and flex-basis）
    用于同时设置上面三个属性，语法为：`flex: flex-grow flex-shrink flex-basis;`。通常用简便的写法指定弹性行为。默认是`0 1 auto`, 一般使用`flex:1`进行平均铺满
5. `align-self`（单个项目的对齐方式）
    控制单个项目在交叉轴（垂直轴）上的对齐方式，覆盖容器的`align-items`设置。可以取值如`auto`, `flex-start`, `flex-end`, `center`, `baseline`, `stretch`。
6. `order`（排序）
    控制Flex项目的排列顺序，默认值为0。值越小，越靠前显示；负值或正值都可以，用于调整布局顺序。

```
.box div:nth-child(6){
	order: 7;
}
```

```css
.notice>view{
  display: flex;
  flex-direction: column;
}
```

## 触发事件

```c
<image src="/images/bottom/cute_1.png" bind:tap="handleConsole"/>
```

```js
Page({
  handleConsole(){
    console.log("handleConsole");
  }
})
```

### 事件冒泡

组件嵌套的时候, 子组件有事件, 父组件也有事件, 触发子组件事件的时候, 父组件的也会触发

+ 阻止事件冒泡

绑定事件的时候不再使用bind, 使用catch

### 参数

触发事件的时候会有一个参数event对象, 这个参数是默认的

![image-20250723213324581](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507232133874.png)

如果想要自定义参数, 参数的名字以`data-`进行开头

`  <image src="/images/bottom/cute_2.png" bind:tap="handleConsole" data-index="2" data-name="cute_2"/>`

![image-20250723213815732](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507232138951.png)

可以使用`event.target.dataset`获取实际的数据

还可以使用`make:name='xxx'`进行传参, 实际获取的使用`event.mark.name`

## 页面跳转

### 组件跳转(声明式导航)

使用navigator(导航器)

```html
<navigator url="/pages/pet/state/state">
    <view class="item">
        <image src="/images/menu/keji.png" class="image" />
        <text>状态</text>
    </view>
</navigator>
```

也可以配合`open-type`属性, 实现不同的跳转方式

| 合法值       | 说明                                                         |
| :----------- | :----------------------------------------------------------- |
| navigate     | 对应 [wx.navigateTo](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html) 或 [wx.navigateToMiniProgram](https://developers.weixin.qq.com/miniprogram/dev/api/navigate/wx.navigateToMiniProgram.html) 的功能, 保留当前页面(可以返回), 跳转应用内某个页面, 不能是tabbar页面 |
| redirect     | 对应 [wx.redirectTo](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html) 的功能, 关闭当前页面(不可以返回), 跳转应用内某个页面, 不能是tabbar页面 |
| switchTab    | 对应 [wx.switchTab](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html) 的功能, 只可以跳tabbar, 关闭所有的非tabbar页面 |
| reLaunch     | 对应 [wx.reLaunch](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.reLaunch.html) 的功能, 关闭所有页面, 打开到应用里面的某个页面 |
| navigateBack | 对应 [wx.navigateBack](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html) 或 [wx.navigateBackMiniProgram](https://developers.weixin.qq.com/miniprogram/dev/api/navigate/wx.navigateBackMiniProgram.html) （基础库 2.24.4 版本支持）的功能, 关闭当前, 返回上一页面或者多级页面, 可以使用`dalta="2"`回退两层 |
| exit         | 退出小程序，`target="miniProgram"`时生效                     |

携带参数, 可以在url后面使用`?`添加参数

`<navigator url="/pages/pet/state/state?name=jiao&age=22">`

获取的结果在js的`onLoad(options)`里面

### js跳转(编程式导航)

和上面的几种是对应的

```js
wx.navigateTo({
    url: 'url'
})

wx.redirectTo({
    url: 'url'
})

wx.switchTab({
    url: 'url'
})

wx.reLaunch({
    url: 'url'
})

wx.navigateBack()

```

```c
<button type="default" bind:tap="handlenavigateTo">navigateTo</button>
    
handlenavigateTo(){
	wx.navigateTo({
        url: '/pages/order/order',
    })
}

```

## 插值语法(模板语法)

显示的时候使用变量动态替换, 在js里面需要保留js字段

```js
data: {
    pet: {
        name: "小明",
        age: 18,
    }
}
```

```c
<view>
  <text>名字: {{pet.name}}</text>
  <text>年龄: {{pet.age}}</text>
</view>
```

可以使用键值对, 对象以及数组的形式

可以显示的数据如下

+ 变量
+ 算数运算
+ 三元运算
+ 逻辑判断

> 不可以使用js语句以及方法

在js里面调用一个变量的时候使用this, 默认的数据不是响应式的, 变量变化的时候页面不变化, 更新需要使用`SetData`方法

```js
data: {
    pet: {
        name: "小明",
        age: 18,
    }
},

// 不更新显示
handleAgeAdd(){
    this.age += 1;
}

// 更新显示
handleAgeAdd(){
    // this.age += 1;
    this.setData({
        "pet.age": this.data.pet.age += 1
    })
},
```

> 直接改一个不是根目录下边的变量的时候可以不加引号

```c
handleAgeAdd(){
    // ... 是ES6的语法，用于对象的浅拷贝, 会拷贝对象的所有属性，包括对象的子对象
    const pet2 = {...this.data.pet, hobby: "打篮球"}
    this.setData({
        pet: pet2
    })
        console.log(this.data.pet);
},
```

> const, var, let的区别, 老版本的定义使用var, 新版本定义变量使用let, 定义常量使用const

+ 改变数组

```c
  <view wx:for="{{names}}">
    <text>{{item}}</text>
  </view>
```

```js
handleAgeAdd(){
    this.data.names.push("小明");
    this.setData({
        names: this.data.names
    })
},
    
handleAgeAdd(){
    const new_names = this.data.names.concat('test')
    this.setData({
        names: new_names
    })
},
// 改一个
handleAgeAdd(){
    this.setData({
        "names[0]": "新名字"
    })
},
    
handleAgeAdd(){
    this.setData({
        names: this.data.names.slice(1) // 删除第一个
    })
},

```

## for循环

```js
data: {
    goodsList: [
        {
            id: 1,
            name: "苹果",
            price: 10,
        },
        {
            id: 2,
            name: "香蕉",
            price: 20,
        },
        {
            id: 3,
            name: "橘子",
            price: 30,
        },
    ]
},
```

```html
<view>
  <!-- 遍历goodsList 使用wx:key="id" 表示使用id作为key, 要求id是唯一的 -->
  <view wx:for="{{goodsList}}" wx:key="id">
    <text>{{item.name}}</text>
    <text>{{item.price}}</text>
  </view>
</view>
```

> 只要在循环里面, 就会有两个值index索引, 以及item元素项, 可以使用`index`作为`wx:key`获取使用`*this`代表item
>
> 可以使用`wx:for-item="info"`, `wx:for-index="i"`来改名字

![image-20250724141009343](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/lenovo-picture/202507241410426.png)

使用这个循环获取到的是view嵌套text, 可以直接使用block标签

## 条件if

```c
<!-- 输入框, 可以直接绑定到data中的变量 -->
<input type="text" model:value="{{money}}" style="border: 1px solid #ccc;"/>

<view wx:if="{{money>=8 && money<=10}}">
  <text>可以购买</text>
</view>
<view wx:elif="{{money>10}}">
  <text>可以购买2</text>
</view>
<view wx:else>
  <text>不可以购买</text>
</view>
```

> `wx:if` 和`hidden`
>
> 在标签里面直接使用`ws:if`可以控制这个标签的删除以及创建, 使用hidden的时候不会删除元素
