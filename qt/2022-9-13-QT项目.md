---
layout: post
title: "QT项目" 
date:   2022-9-12 15:39:08 +0800
tags: 嵌入式 原子Linux  
---

# QT项目

![QQ图片20220913151322](E:\a学习\笔记\img\QQ图片20220913151322.png)

Base class有三个选项

+   QMainWindow:

分为三层, 上面是菜单栏, 下面是状态栏

+   QWidget:

是一个空白的窗口, 嵌入式使用的最多

+   Qdialog

有几个按钮的窗口

## 项目文件

在文件中有一个宏

QT += core gui

这是文件默认添加的模块, 之后在文件中添加头文件就可以使用了

之后还会定义文件的版本检查

编译的文件

可以使用TARGET进行定义生成的文件的名字



## 启动流程

```c++
#include "mywindows.h"

#include <QApplication>

int main(int argc, char *argv[])
{
    //把命令行参数传递给这个类
    //这个类是用来管理设置Qt程序的运行, 针对QWidget应用程序
    QApplication a(argc, argv);
    //自定义的类, w是创建的对象
    MyWindows w;
    //对象调用函数
    w.show();
    //调用的是一个事件循环, 等待鼠标键盘等的输入
    return a.exec();
}
```

>   管理使用的类
>
>   QApplication
>
>   QGuiApplication 针对非QWidget程序, 比如QQuick
>
>   QCoreApplication 针对的是没有界面的应用程序

### 头文件

```c++
#ifndef MYWINDOWS_H
#define MYWINDOWS_H

#include <QMainWindow>

QT_BEGIN_NAMESPACE
namespace Ui { class MyWindows; }
QT_END_NAMESPACE

class MyWindows : public QMainWindow
{
    //这是一个宏定义, Qt信号槽需要这个
    Q_OBJECT

public:
    //两个函数
    MyWindows(QWidget *parent = nullptr);
    ~MyWindows();

private:
    Ui::MyWindows *ui;
};
#endif // MYWINDOWS_H
```



```c++
#include "mywindows.h"
#include "ui_mywindows.h"
#include <QDebug>


MyWindows::MyWindows(QWidget *parent)
    : QMainWindow(parent)
    , i(4)
    , ui(new Ui::MyWindows)
{
    ui->setupUi(this);
    qDebug() << "构造函数执行" <<endl;
}
```

>   使用qDebug()进行打印, 使用setupUi函数和ui文件进行联系

## 常用的快捷键

+   Ctrl + n 新建项目
+   Ctrl + r 运行项目
+   Ctrl + b 构建项目
+   F1 帮助文档
+   Ctrl + 滚轮 字体大小
+   Ctrl + A Ctrl + I 代码对齐
+   Ctrl + Shift + Enter 上面加入新行
+   Ctrl + Enter 下面加入新行
+   Ctrl + Shift + ↑ 代码上移
+   Ctrl + Shift + ↓ 代码下移
+   Ctrl + Shift + PgUp 这一行代码复制到上面一行
+   Ctrl + Shift + PgDn 这一行代码复制到下面
+   Ctrl + 点击 跳转到定义
+   Alt + ← 返回
+   Ctrl + Shift + T 查看一个类的层次
+   F4 头文件源文件之间来回切换

## 规范

文件的命名：使用小写字母，可以有大写字母，windows文件不区分大小写， 文件名和文件中的类名一样

下载的文件的源码在文件/opt/Qt5.12.9/5.12.9/Src文件夹之中

类名：单词的首字母大写

函数名：除了构造函数，析构函数成员函数的首字母小写，单词之间的字母大写

成员变量：首字母小写，单词之间的字母大写











